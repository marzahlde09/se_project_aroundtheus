!function(){"use strict";class e{constructor(e,t,s,r,n){this._name=e.name,this._link=e.link,this.liked=e.isLiked,this._id=e._id,this._cardSelector=t,this._handleImageClick=s,this._handleDeleteClick=r,this._handleLikeClick=n}_getTemplate(){return document.querySelector(this._cardSelector).content.querySelector(".card").cloneNode(!0)}_setEventListeners(){this.card.querySelector(".card__delete").addEventListener("click",(()=>{this._handleDeleteClick()})),this.card.querySelector(".card__like").addEventListener("click",(()=>{this._handleLikeClick()})),this._cardImageElement.addEventListener("click",(()=>{this._handleImageClick({name:this._name,link:this._link})}))}deleteCard(){this.card.remove(),this.card=null}generateCard(){return this.card=this._getTemplate(),this._cardImageElement=this.card.querySelector(".card__image"),this._cardImageElement.src=this._link,this._cardImageElement.alt=this._name,this.card.querySelector(".card__name").textContent=this._name,this.liked&&this.card.querySelector(".card__like").classList.add("card__like_active"),this._setEventListeners(),this.card}}class t{constructor(e,t){this._formSelector=e.formSelector,this._inputSelector=e.inputSelector,this._submitButtonSelector=e.submitButtonSelector,this._inactiveButtonClass=e.inactiveButtonClass,this._inputErrorClass=e.inputErrorClass,this._errorClass=e.errorClass,this._formElement=t,this._inputList=Array.from(this._formElement.querySelectorAll(this._inputSelector)),this._buttonElement=this._formElement.querySelector(this._submitButtonSelector)}_showInputError(e,t){const s=this._formElement.querySelector(`.${e.name}-input-error`);e.classList.add(this._inputErrorClass),s.textContent=t,s.classList.add(this._errorClass)}_hideInputError(e){const t=this._formElement.querySelector(`.${e.name}-input-error`);e.classList.remove(this._inputErrorClass),t.textContent="",t.classList.remove(this._errorClass)}_checkInputValidity(e){e.validity.valid?this._hideInputError(e):this._showInputError(e,e.validationMessage)}_hasInvalidInput(){return this._inputList.some((e=>!e.validity.valid))}_toggleButtonState(){this._hasInvalidInput()?this.disableButton():(this._buttonElement.classList.remove(this._inactiveButtonClass),this._buttonElement.disabled=!1)}_setEventListeners(){this._inputList.forEach((e=>{e.addEventListener("input",(()=>{this._checkInputValidity(e),this._toggleButtonState()}))}))}enableValidation(){this._setEventListeners()}resetValidation(){this._toggleButtonState(),this._inputList.forEach((e=>{this._hideInputError(e)}))}disableButton(){this._buttonElement.classList.add(this._inactiveButtonClass),this._buttonElement.disabled=!0}}class s{constructor(e){this._popupSelector=e,this._popupElement=document.querySelector(this._popupSelector).closest(".popup")}open(){this._popupElement.classList.add("popup_opened"),document.addEventListener("keydown",this._handleEscClose),this._popupElement.addEventListener("mousedown",this._handleOutsideClickClose)}close(){this._popupElement.classList.remove("popup_opened"),document.removeEventListener("keydown",this._handleEscClose),this._popupElement.removeEventListener("mousedown",this._handleOutsideClickClose)}_handleEscClose=e=>{"Escape"===e.key&&this.close()};_handleOutsideClickClose=e=>{e.target.classList.contains("popup_opened")&&this.close()};setEventListeners(){this._popupElement.querySelector(".popup__close-button").addEventListener("click",(()=>{this.close()}))}}class r extends s{constructor(e,t){super(e),this.formElement=this._popupElement.querySelector(".form"),this.submitButton=this.formElement.querySelector(".form__submit"),this._submitForm=t}_getInputValues(){const e=Array.from(this.formElement.querySelectorAll(".form__field")),t={};return e.forEach((e=>{t[e.name]=e.value})),t}close(){super.close(),this.formElement.reset()}setEventListeners(){this.formElement.addEventListener("submit",(e=>{e.preventDefault(),this._submitForm(this._getInputValues())})),super.setEventListeners()}}const n=document.querySelector(".profile__edit-button"),o=document.querySelector(".profile__add-button"),i=document.querySelector(".profile__picture-edit-button"),a=document.forms["profile-form"].elements.name,l=document.forms["profile-form"].elements.job,c={};var u;u={formSelector:".form",inputSelector:".form__field",submitButtonSelector:".form__submit",inactiveButtonClass:"form__submit_disabled",inputErrorClass:"form__field_type_error",errorClass:"form__input-error_active"},Array.from(document.querySelectorAll(u.formSelector)).forEach((e=>{const s=new t(u,e),r=e.getAttribute("name");c[r]=s,s.enableValidation()}));const h=new class{constructor(e){let{baseUrl:t,authorization:s}=e;this._baseUrl=t,this._authorization=s}getUserInfo(){return fetch(`${this._baseUrl}/users/me`,{headers:{authorization:this._authorization}})}getCardInfo(){return fetch(`${this._baseUrl}/cards`,{headers:{authorization:this._authorization}})}editUserInfo(e){let{name:t,job:s}=e;return fetch(`${this._baseUrl}/users/me`,{method:"PATCH",headers:{authorization:this._authorization,"Content-Type":"application/json"},body:JSON.stringify({name:t,about:s})})}editProfilePicture(e){return fetch(`${this._baseUrl}/users/me/avatar`,{method:"PATCH",headers:{authorization:this._authorization,"Content-Type":"application/json"},body:JSON.stringify({avatar:e})})}addNewCard(e){let{name:t,link:s}=e;return fetch(`${this._baseUrl}/cards`,{method:"POST",headers:{authorization:this._authorization,"Content-Type":"application/json"},body:JSON.stringify({name:t,link:s})})}deleteCard(e){return fetch(`${this._baseUrl}/cards/${e}`,{method:"DELETE",headers:{authorization:this._authorization}})}addLike(e){return fetch(`${this._baseUrl}/cards/${e}/likes`,{method:"PUT",headers:{authorization:this._authorization}})}removeLike(e){return fetch(`${this._baseUrl}/cards/${e}/likes`,{method:"DELETE",headers:{authorization:this._authorization}})}}({baseUrl:"https://around-api.en.tripleten-services.com/v1",authorization:"a0548a22-3cdf-48eb-9822-7e7daf1b0604"}),d=new class{constructor(e){let{nameSelector:t,jobSelector:s,avatarSelector:r}=e;this._nameElement=document.querySelector(t),this._jobElement=document.querySelector(s),this._avatarSelector=document.querySelector(r)}getUserInfo(){return{name:this._nameElement.textContent,job:this._jobElement.textContent}}setUserInfo(e){let{name:t,about:s}=e;this._nameElement.textContent=t,this._jobElement.textContent=s}setAvatar(e){this._avatarSelector.src=e}}({nameSelector:".profile__name",jobSelector:".profile__job",avatarSelector:".profile__picture"}),m=new r("form[name='avatar-form']",(e=>{m.submitButton.textContent="Saving...",h.editProfilePicture(e.link).then((e=>!!e.ok||e.status)).then((()=>{d.setAvatar(e.link)})).catch((e=>console.error(e))).finally((()=>{m.submitButton.textContent="Save",m.close()}))}));m.setEventListeners();const _=new r("form[name='card-form']",(e=>{_.submitButton.textContent="Saving...",h.addNewCard({name:e.name,link:e.link}).then((e=>!!e.ok||e.status)).then((()=>{v.addItem(e)})).catch((e=>console.error(e))).finally((()=>{_.submitButton.textContent="Create",_.close()}))}));_.setEventListeners();const p=new r("form[name='profile-form']",(e=>{p.submitButton.textContent="Saving...",h.editUserInfo({name:e.name,job:e.job}).then((e=>!!e.ok||e.status)).then((()=>{d.setUserInfo({name:e.name,about:e.job})})).catch((e=>console.error(e))).finally((()=>{p.submitButton.textContent="Save",p.close()}))}));p.setEventListeners();const f=new class extends s{constructor(e){super(e),this.formElement=this._popupElement.querySelector(".form")}setSubmitAction(e){this._handleSubmitCallback=e}setEventListeners(){this.formElement.addEventListener("submit",(e=>{e.preventDefault(),this._handleSubmitCallback()})),super.setEventListeners()}}("form[name='delete-form']");f.setEventListeners();const E=new class extends s{constructor(e){super(e),this._popupImage=this._popupElement.querySelector("img"),this._popupCaption=this._popupElement.querySelector("figcaption")}open(e){let{name:t,link:s}=e;this._popupImage.alt=t,this._popupImage.src=s,this._popupCaption.textContent=t,super.open()}}(".popup__picture");E.setEventListeners();const v=new class{constructor(e,t){this._renderer=e,this.container=document.querySelector(t)}renderItems(){this._items.forEach((e=>{this._renderer(e)}))}addItem(e){this._renderer(e)}setItems(e){this._items=e}}((t=>{const s=new e(t,".card-template",(e=>{E.open(e)}),(()=>{f.setSubmitAction((()=>{h.deleteCard(t._id),s.deleteCard(),f.close()})),f.open()}),(()=>{const e=s.card.querySelector(".card__like");s.liked?h.removeLike(t._id).then((e=>!!e.ok||e.status)).then((()=>{e.classList.remove("card__like_active"),s.liked=!1})).catch((e=>console.error(e))):h.addLike(t._id).then((e=>!!e.ok||e.status)).then((()=>{e.classList.add("card__like_active"),s.liked=!0})).catch((e=>console.error(e)))})),r=s.generateCard();v.container.prepend(r)}),".gallery__cards");n.addEventListener("click",(function(){const e=d.getUserInfo();a.value=e.name,l.value=e.job,c["profile-form"].resetValidation(),p.open()})),o.addEventListener("click",(function(){c["card-form"].resetValidation(),_.open()})),i.addEventListener("click",(function(){c["avatar-form"].resetValidation(),m.open()}));const b=h.getCardInfo().then((e=>e.ok?e.json():e.status)).then((e=>{v.setItems(e),v.renderItems()})).catch((e=>console.error(e))),S=h.getUserInfo().then((e=>e.ok?e.json():e.status)).then((e=>{d.setUserInfo({name:e.name,about:e.about}),d.setAvatar(e.avatar)})).catch((e=>console.error(e)));Promise.all([b,S]).then((e=>e.ok?e.json():e.status)).catch((e=>console.error(e)))}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LEVBQWUsZ0JBQWdCbEMsa0JBQy9Cc0YsRUFBWWhGLE1BQ2QsSUFFQXNCLEVBQVUzRSxpQkFBaUIsU0FBUyxXQUNsQ2lGLEVBQWUsYUFBYWxDLGtCQUM1Qm1GLEVBQVM3RSxNQUNYLElBRUF1QixFQUFhNUUsaUJBQWlCLFNBQVMsV0FDckNpRixFQUFlLGVBQWVsQyxrQkFDOUJ5RSxFQUFXbkUsTUFDYixJQUtBLE1BQU1vRyxFQUFlbkUsRUFDbEJTLGNBQ0EwQixNQUFNQyxHQUFTQSxFQUFJQyxHQUFLRCxFQUFJZ0MsT0FBU2hDLEVBQUlFLFNBQ3pDSCxNQUFNQyxJQUNMUyxFQUFZaUIsU0FBUzFCLEdBQ3JCUyxFQUFZYyxhQUFhLElBRTFCcEIsT0FBT0MsR0FBUUMsUUFBUUMsTUFBTUYsS0FFMUI2QixFQUFpQnJFLEVBQ3BCTSxjQUNBNkIsTUFBTUMsR0FBU0EsRUFBSUMsR0FBS0QsRUFBSWdDLE9BQVNoQyxFQUFJRSxTQUN6Q0gsTUFBTUMsSUFDTFgsRUFBU08sWUFBWSxDQUFFdkksS0FBTTJJLEVBQUkzSSxLQUFNd0gsTUFBT21CLEVBQUluQixRQUNsRFEsRUFBU1EsVUFBVUcsRUFBSWpCLE9BQU8sSUFFL0JvQixPQUFPQyxHQUFRQyxRQUFRQyxNQUFNRixLQUVoQzhCLFFBQVFDLElBQUksQ0FBQ0osRUFBY0UsSUFDeEJsQyxNQUFNQyxHQUFTQSxFQUFJQyxHQUFLRCxFQUFJZ0MsT0FBU2hDLEVBQUlFLFNBQ3pDQyxPQUFPQyxHQUFRQyxRQUFRQyxNQUFNRixJIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvQ2FyZC5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL1BvcHVwLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL3V0aWxzL2NvbnN0YW50cy5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvcGFnZXMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvQXBpLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL1VzZXJJbmZvLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL1BvcHVwRGVsZXRlQ29uZmlybWF0aW9uLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL1NlY3Rpb24uanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2FyZCB7XHJcbiAgY29uc3RydWN0b3IoXHJcbiAgICBkYXRhLFxyXG4gICAgY2FyZFNlbGVjdG9yLFxyXG4gICAgaGFuZGxlSW1hZ2VDbGljayxcclxuICAgIGhhbmRsZURlbGV0ZUNsaWNrLFxyXG4gICAgaGFuZGxlTGlrZUNsaWNrXHJcbiAgKSB7XHJcbiAgICB0aGlzLl9uYW1lID0gZGF0YS5uYW1lO1xyXG4gICAgdGhpcy5fbGluayA9IGRhdGEubGluaztcclxuICAgIHRoaXMubGlrZWQgPSBkYXRhLmlzTGlrZWQ7XHJcbiAgICB0aGlzLl9pZCA9IGRhdGEuX2lkO1xyXG4gICAgdGhpcy5fY2FyZFNlbGVjdG9yID0gY2FyZFNlbGVjdG9yO1xyXG4gICAgdGhpcy5faGFuZGxlSW1hZ2VDbGljayA9IGhhbmRsZUltYWdlQ2xpY2s7XHJcbiAgICB0aGlzLl9oYW5kbGVEZWxldGVDbGljayA9IGhhbmRsZURlbGV0ZUNsaWNrO1xyXG4gICAgdGhpcy5faGFuZGxlTGlrZUNsaWNrID0gaGFuZGxlTGlrZUNsaWNrO1xyXG4gIH1cclxuXHJcbiAgX2dldFRlbXBsYXRlKCkge1xyXG4gICAgY29uc3QgY2FyZEVsZW1lbnQgPSBkb2N1bWVudFxyXG4gICAgICAucXVlcnlTZWxlY3Rvcih0aGlzLl9jYXJkU2VsZWN0b3IpXHJcbiAgICAgIC5jb250ZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZFwiKVxyXG4gICAgICAuY2xvbmVOb2RlKHRydWUpO1xyXG5cclxuICAgIHJldHVybiBjYXJkRWxlbWVudDtcclxuICB9XHJcblxyXG4gIF9zZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHRoaXMuY2FyZC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2RlbGV0ZVwiKS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICB0aGlzLl9oYW5kbGVEZWxldGVDbGljaygpO1xyXG4gICAgfSk7XHJcbiAgICB0aGlzLmNhcmQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19saWtlXCIpLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgIHRoaXMuX2hhbmRsZUxpa2VDbGljaygpO1xyXG4gICAgfSk7XHJcbiAgICB0aGlzLl9jYXJkSW1hZ2VFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgIHRoaXMuX2hhbmRsZUltYWdlQ2xpY2soeyBuYW1lOiB0aGlzLl9uYW1lLCBsaW5rOiB0aGlzLl9saW5rIH0pO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBkZWxldGVDYXJkKCkge1xyXG4gICAgdGhpcy5jYXJkLnJlbW92ZSgpO1xyXG4gICAgdGhpcy5jYXJkID0gbnVsbDtcclxuICB9XHJcblxyXG4gIGdlbmVyYXRlQ2FyZCgpIHtcclxuICAgIHRoaXMuY2FyZCA9IHRoaXMuX2dldFRlbXBsYXRlKCk7XHJcbiAgICB0aGlzLl9jYXJkSW1hZ2VFbGVtZW50ID0gdGhpcy5jYXJkLnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9faW1hZ2VcIik7XHJcbiAgICB0aGlzLl9jYXJkSW1hZ2VFbGVtZW50LnNyYyA9IHRoaXMuX2xpbms7XHJcbiAgICB0aGlzLl9jYXJkSW1hZ2VFbGVtZW50LmFsdCA9IHRoaXMuX25hbWU7XHJcbiAgICB0aGlzLmNhcmQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19uYW1lXCIpLnRleHRDb250ZW50ID0gdGhpcy5fbmFtZTtcclxuICAgIGlmICh0aGlzLmxpa2VkKSB7XHJcbiAgICAgIHRoaXMuY2FyZC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2xpa2VcIikuY2xhc3NMaXN0LmFkZChcImNhcmRfX2xpa2VfYWN0aXZlXCIpO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG4gICAgcmV0dXJuIHRoaXMuY2FyZDtcclxuICB9XHJcbn1cclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgRm9ybVZhbGlkYXRvciB7XG4gIGNvbnN0cnVjdG9yKHNldHRpbmdzLCBmb3JtRWxlbWVudCkge1xuICAgIHRoaXMuX2Zvcm1TZWxlY3RvciA9IHNldHRpbmdzLmZvcm1TZWxlY3RvcjtcbiAgICB0aGlzLl9pbnB1dFNlbGVjdG9yID0gc2V0dGluZ3MuaW5wdXRTZWxlY3RvcjtcbiAgICB0aGlzLl9zdWJtaXRCdXR0b25TZWxlY3RvciA9IHNldHRpbmdzLnN1Ym1pdEJ1dHRvblNlbGVjdG9yO1xuICAgIHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MgPSBzZXR0aW5ncy5pbmFjdGl2ZUJ1dHRvbkNsYXNzO1xuICAgIHRoaXMuX2lucHV0RXJyb3JDbGFzcyA9IHNldHRpbmdzLmlucHV0RXJyb3JDbGFzcztcbiAgICB0aGlzLl9lcnJvckNsYXNzID0gc2V0dGluZ3MuZXJyb3JDbGFzcztcbiAgICB0aGlzLl9mb3JtRWxlbWVudCA9IGZvcm1FbGVtZW50O1xuICAgIHRoaXMuX2lucHV0TGlzdCA9IEFycmF5LmZyb20oXG4gICAgICB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKHRoaXMuX2lucHV0U2VsZWN0b3IpXG4gICAgKTtcbiAgICB0aGlzLl9idXR0b25FbGVtZW50ID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihcbiAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvblNlbGVjdG9yXG4gICAgKTtcbiAgfVxuXG4gIF9zaG93SW5wdXRFcnJvcihpbnB1dEVsZW1lbnQsIGVycm9yTWVzc2FnZSkge1xuICAgIGNvbnN0IGVycm9yRWxlbWVudCA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICAgICBgLiR7aW5wdXRFbGVtZW50Lm5hbWV9LWlucHV0LWVycm9yYFxuICAgICk7XG4gICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5faW5wdXRFcnJvckNsYXNzKTtcbiAgICBlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSBlcnJvck1lc3NhZ2U7XG4gICAgZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5fZXJyb3JDbGFzcyk7XG4gIH1cblxuICBfaGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KSB7XG4gICAgY29uc3QgZXJyb3JFbGVtZW50ID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihcbiAgICAgIGAuJHtpbnB1dEVsZW1lbnQubmFtZX0taW5wdXQtZXJyb3JgXG4gICAgKTtcbiAgICBpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9pbnB1dEVycm9yQ2xhc3MpO1xuICAgIGVycm9yRWxlbWVudC50ZXh0Q29udGVudCA9IFwiXCI7XG4gICAgZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fZXJyb3JDbGFzcyk7XG4gIH1cblxuICBfY2hlY2tJbnB1dFZhbGlkaXR5KGlucHV0RWxlbWVudCkge1xuICAgIGlmICghaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkKSB7XG4gICAgICB0aGlzLl9zaG93SW5wdXRFcnJvcihpbnB1dEVsZW1lbnQsIGlucHV0RWxlbWVudC52YWxpZGF0aW9uTWVzc2FnZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCk7XG4gICAgfVxuICB9XG5cbiAgX2hhc0ludmFsaWRJbnB1dCgpIHtcbiAgICByZXR1cm4gdGhpcy5faW5wdXRMaXN0LnNvbWUoKGlucHV0RWxlbWVudCkgPT4ge1xuICAgICAgcmV0dXJuICFpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWQ7XG4gICAgfSk7XG4gIH1cblxuICBfdG9nZ2xlQnV0dG9uU3RhdGUoKSB7XG4gICAgaWYgKHRoaXMuX2hhc0ludmFsaWRJbnB1dCgpKSB7XG4gICAgICB0aGlzLmRpc2FibGVCdXR0b24oKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fYnV0dG9uRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MpO1xuICAgICAgdGhpcy5fYnV0dG9uRWxlbWVudC5kaXNhYmxlZCA9IGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIF9zZXRFdmVudExpc3RlbmVycygpIHtcbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXRFbGVtZW50KSA9PiB7XG4gICAgICBpbnB1dEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsICgpID0+IHtcbiAgICAgICAgdGhpcy5fY2hlY2tJbnB1dFZhbGlkaXR5KGlucHV0RWxlbWVudCk7XG4gICAgICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIGVuYWJsZVZhbGlkYXRpb24oKSB7XG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgfVxuXG4gIHJlc2V0VmFsaWRhdGlvbigpIHtcbiAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZSgpO1xuICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dEVsZW1lbnQpID0+IHtcbiAgICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCk7XG4gICAgfSk7XG4gIH1cblxuICBkaXNhYmxlQnV0dG9uKCkge1xuICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcbiAgICB0aGlzLl9idXR0b25FbGVtZW50LmRpc2FibGVkID0gdHJ1ZTtcbiAgfVxufVxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXAge1xyXG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcclxuICAgIHRoaXMuX3BvcHVwU2VsZWN0b3IgPSBwb3B1cFNlbGVjdG9yO1xyXG4gICAgdGhpcy5fcG9wdXBFbGVtZW50ID0gZG9jdW1lbnRcclxuICAgICAgLnF1ZXJ5U2VsZWN0b3IodGhpcy5fcG9wdXBTZWxlY3RvcilcclxuICAgICAgLmNsb3Nlc3QoXCIucG9wdXBcIik7XHJcbiAgfVxyXG5cclxuICBvcGVuKCkge1xyXG4gICAgdGhpcy5fcG9wdXBFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJwb3B1cF9vcGVuZWRcIik7XHJcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XHJcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcclxuICAgICAgXCJtb3VzZWRvd25cIixcclxuICAgICAgdGhpcy5faGFuZGxlT3V0c2lkZUNsaWNrQ2xvc2VcclxuICAgICk7XHJcbiAgfVxyXG5cclxuICBjbG9zZSgpIHtcclxuICAgIHRoaXMuX3BvcHVwRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKFwicG9wdXBfb3BlbmVkXCIpO1xyXG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xyXG4gICAgdGhpcy5fcG9wdXBFbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXHJcbiAgICAgIFwibW91c2Vkb3duXCIsXHJcbiAgICAgIHRoaXMuX2hhbmRsZU91dHNpZGVDbGlja0Nsb3NlXHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgX2hhbmRsZUVzY0Nsb3NlID0gKGV2dCkgPT4ge1xyXG4gICAgaWYgKGV2dC5rZXkgPT09IFwiRXNjYXBlXCIpIHtcclxuICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIF9oYW5kbGVPdXRzaWRlQ2xpY2tDbG9zZSA9IChldnQpID0+IHtcclxuICAgIGlmIChldnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhcInBvcHVwX29wZW5lZFwiKSkge1xyXG4gICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnRcclxuICAgICAgLnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2Nsb3NlLWJ1dHRvblwiKVxyXG4gICAgICAuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICAgIH0pO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEZvcm0gZXh0ZW5kcyBQb3B1cCB7XHJcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvciwgc3VibWl0Rm9ybSkge1xyXG4gICAgc3VwZXIocG9wdXBTZWxlY3Rvcik7XHJcbiAgICB0aGlzLmZvcm1FbGVtZW50ID0gdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZm9ybVwiKTtcclxuICAgIHRoaXMuc3VibWl0QnV0dG9uID0gdGhpcy5mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmZvcm1fX3N1Ym1pdFwiKTtcclxuICAgIHRoaXMuX3N1Ym1pdEZvcm0gPSBzdWJtaXRGb3JtO1xyXG4gIH1cclxuXHJcbiAgX2dldElucHV0VmFsdWVzKCkge1xyXG4gICAgY29uc3QgaW5wdXRGaWVsZHMgPSBBcnJheS5mcm9tKFxyXG4gICAgICB0aGlzLmZvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuZm9ybV9fZmllbGRcIilcclxuICAgICk7XHJcbiAgICBjb25zdCBkYXRhID0ge307XHJcbiAgICBpbnB1dEZpZWxkcy5mb3JFYWNoKChmaWVsZCkgPT4ge1xyXG4gICAgICBkYXRhW2ZpZWxkLm5hbWVdID0gZmllbGQudmFsdWU7XHJcbiAgICB9KTtcclxuICAgIHJldHVybiBkYXRhO1xyXG4gIH1cclxuXHJcbiAgY2xvc2UoKSB7XHJcbiAgICBzdXBlci5jbG9zZSgpO1xyXG4gICAgdGhpcy5mb3JtRWxlbWVudC5yZXNldCgpO1xyXG4gIH1cclxuXHJcbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICB0aGlzLmZvcm1FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGV2dCkgPT4ge1xyXG4gICAgICBldnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgdGhpcy5fc3VibWl0Rm9ybSh0aGlzLl9nZXRJbnB1dFZhbHVlcygpKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgfVxyXG59XHJcbiIsIi8qZXhwb3J0IGNvbnN0IGluaXRpYWxDYXJkcyA9IFtcclxuICB7XHJcbiAgICBuYW1lOiBcIllvc2VtaXRlIFZhbGxleVwiLFxyXG4gICAgbGluazogXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL3NvZnR3YXJlLWVuZ2luZWVyL2Fyb3VuZC1wcm9qZWN0L3lvc2VtaXRlLmpwZ1wiLFxyXG4gIH0sXHJcbiAge1xyXG4gICAgbmFtZTogXCJMYWtlIExvdWlzZVwiLFxyXG4gICAgbGluazogXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL3NvZnR3YXJlLWVuZ2luZWVyL2Fyb3VuZC1wcm9qZWN0L2xha2UtbG91aXNlLmpwZ1wiLFxyXG4gIH0sXHJcbiAge1xyXG4gICAgbmFtZTogXCJCYWxkIE1vdW50YWluc1wiLFxyXG4gICAgbGluazogXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL3NvZnR3YXJlLWVuZ2luZWVyL2Fyb3VuZC1wcm9qZWN0L2JhbGQtbW91bnRhaW5zLmpwZ1wiLFxyXG4gIH0sXHJcbiAge1xyXG4gICAgbmFtZTogXCJMYXRlbWFyXCIsXHJcbiAgICBsaW5rOiBcImh0dHBzOi8vcHJhY3RpY3VtLWNvbnRlbnQuczMudXMtd2VzdC0xLmFtYXpvbmF3cy5jb20vc29mdHdhcmUtZW5naW5lZXIvYXJvdW5kLXByb2plY3QvbGF0ZW1hci5qcGdcIixcclxuICB9LFxyXG4gIHtcclxuICAgIG5hbWU6IFwiVmFub2lzZSBOYXRpb25hbCBQYXJrXCIsXHJcbiAgICBsaW5rOiBcImh0dHBzOi8vcHJhY3RpY3VtLWNvbnRlbnQuczMudXMtd2VzdC0xLmFtYXpvbmF3cy5jb20vc29mdHdhcmUtZW5naW5lZXIvYXJvdW5kLXByb2plY3QvdmFub2lzZS5qcGdcIixcclxuICB9LFxyXG4gIHtcclxuICAgIG5hbWU6IFwiTGFnbyBkaSBCcmFpZXNcIixcclxuICAgIGxpbms6IFwiaHR0cHM6Ly9wcmFjdGljdW0tY29udGVudC5zMy51cy13ZXN0LTEuYW1hem9uYXdzLmNvbS9zb2Z0d2FyZS1lbmdpbmVlci9hcm91bmQtcHJvamVjdC9sYWdvLmpwZ1wiLFxyXG4gIH0sXHJcbl07Ki9cclxuXHJcbmV4cG9ydCBjb25zdCBmb3JtU2V0dGluZ3MgPSB7XHJcbiAgZm9ybVNlbGVjdG9yOiBcIi5mb3JtXCIsXHJcbiAgaW5wdXRTZWxlY3RvcjogXCIuZm9ybV9fZmllbGRcIixcclxuICBzdWJtaXRCdXR0b25TZWxlY3RvcjogXCIuZm9ybV9fc3VibWl0XCIsXHJcbiAgaW5hY3RpdmVCdXR0b25DbGFzczogXCJmb3JtX19zdWJtaXRfZGlzYWJsZWRcIixcclxuICBpbnB1dEVycm9yQ2xhc3M6IFwiZm9ybV9fZmllbGRfdHlwZV9lcnJvclwiLFxyXG4gIGVycm9yQ2xhc3M6IFwiZm9ybV9faW5wdXQtZXJyb3JfYWN0aXZlXCIsXHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgaW5pdGlhbFVzZXJEYXRhID0ge1xyXG4gIG5hbWU6IFwiSmFjcXVlcyBDb3VzdGVhdVwiLFxyXG4gIGpvYjogXCJFeHBsb3JlclwiLFxyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGVkaXRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2VkaXQtYnV0dG9uXCIpO1xyXG5leHBvcnQgY29uc3QgYWRkQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19hZGQtYnV0dG9uXCIpO1xyXG5leHBvcnQgY29uc3QgYXZhdGFyQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcclxuICBcIi5wcm9maWxlX19waWN0dXJlLWVkaXQtYnV0dG9uXCJcclxuKTtcclxuZXhwb3J0IGNvbnN0IHByb2ZpbGVGb3JtTmFtZSA9IGRvY3VtZW50LmZvcm1zW1wicHJvZmlsZS1mb3JtXCJdLmVsZW1lbnRzW1wibmFtZVwiXTtcclxuZXhwb3J0IGNvbnN0IHByb2ZpbGVGb3JtSm9iID0gZG9jdW1lbnQuZm9ybXNbXCJwcm9maWxlLWZvcm1cIl0uZWxlbWVudHNbXCJqb2JcIl07XHJcbiIsImltcG9ydCBDYXJkIGZyb20gXCIuLi9jb21wb25lbnRzL0NhcmQuanNcIjtcclxuaW1wb3J0IEZvcm1WYWxpZGF0b3IgZnJvbSBcIi4uL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qc1wiO1xyXG5pbXBvcnQgUG9wdXBXaXRoRm9ybSBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzXCI7XHJcbmltcG9ydCBQb3B1cFdpdGhJbWFnZSBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qc1wiO1xyXG5pbXBvcnQgUG9wdXBEZWxldGVDb25maXJtYXRpb24gZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBEZWxldGVDb25maXJtYXRpb24uanNcIjtcclxuaW1wb3J0IFNlY3Rpb24gZnJvbSBcIi4uL2NvbXBvbmVudHMvU2VjdGlvbi5qc1wiO1xyXG5pbXBvcnQgVXNlckluZm8gZnJvbSBcIi4uL2NvbXBvbmVudHMvVXNlckluZm8uanNcIjtcclxuaW1wb3J0IEFwaSBmcm9tIFwiLi4vY29tcG9uZW50cy9BcGkuanNcIjtcclxuaW1wb3J0IHtcclxuICAvKmluaXRpYWxDYXJkcywqL1xyXG4gIGZvcm1TZXR0aW5ncyxcclxuICBlZGl0QnV0dG9uLFxyXG4gIGFkZEJ1dHRvbixcclxuICBhdmF0YXJCdXR0b24sXHJcbiAgcHJvZmlsZUZvcm1OYW1lLFxyXG4gIHByb2ZpbGVGb3JtSm9iLFxyXG59IGZyb20gXCIuLi91dGlscy9jb25zdGFudHMuanNcIjtcclxuaW1wb3J0IFwiLi9pbmRleC5jc3NcIjtcclxuXHJcbi8qICoqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cclxuLyogQWRkIGZvcm0gdmFsaWRhdGlvbiB0byBmb3JtcyAqL1xyXG4vKiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXHJcbmNvbnN0IGZvcm1WYWxpZGF0b3JzID0ge307XHJcblxyXG5jb25zdCBlbmFibGVWYWxpZGF0aW9uID0gKGZvcm1TZXR0aW5ncykgPT4ge1xyXG4gIGNvbnN0IGZvcm1MaXN0ID0gQXJyYXkuZnJvbShcclxuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoZm9ybVNldHRpbmdzLmZvcm1TZWxlY3RvcilcclxuICApO1xyXG4gIGZvcm1MaXN0LmZvckVhY2goKGZvcm1FbGVtZW50KSA9PiB7XHJcbiAgICBjb25zdCB2YWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcihmb3JtU2V0dGluZ3MsIGZvcm1FbGVtZW50KTtcclxuICAgIGNvbnN0IGZvcm1OYW1lID0gZm9ybUVsZW1lbnQuZ2V0QXR0cmlidXRlKFwibmFtZVwiKTtcclxuICAgIGZvcm1WYWxpZGF0b3JzW2Zvcm1OYW1lXSA9IHZhbGlkYXRvcjtcclxuICAgIHZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XHJcbiAgfSk7XHJcbn07XHJcblxyXG5lbmFibGVWYWxpZGF0aW9uKGZvcm1TZXR0aW5ncyk7XHJcblxyXG4vKiAqKioqKioqKioqKioqKioqKioqKioqKioqICovXHJcbi8qIERlY2xhcmF0aW9uIG9mIEFwaSBvYmplY3QgKi9cclxuLyogKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xyXG5jb25zdCBhcGkgPSBuZXcgQXBpKHtcclxuICBiYXNlVXJsOiBcImh0dHBzOi8vYXJvdW5kLWFwaS5lbi50cmlwbGV0ZW4tc2VydmljZXMuY29tL3YxXCIsXHJcbiAgYXV0aG9yaXphdGlvbjogXCJhMDU0OGEyMi0zY2RmLTQ4ZWItOTgyMi03ZTdkYWYxYjA2MDRcIixcclxufSk7XHJcblxyXG4vKiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cclxuLyogRGVjbGFyYXRpb24gb2YgVXNlckluZm8gb2JqZWN0ICovXHJcbi8qICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xyXG5jb25zdCB1c2VySW5mbyA9IG5ldyBVc2VySW5mbyh7XHJcbiAgbmFtZVNlbGVjdG9yOiBcIi5wcm9maWxlX19uYW1lXCIsXHJcbiAgam9iU2VsZWN0b3I6IFwiLnByb2ZpbGVfX2pvYlwiLFxyXG4gIGF2YXRhclNlbGVjdG9yOiBcIi5wcm9maWxlX19waWN0dXJlXCIsXHJcbn0pO1xyXG5cclxuLyogKioqKioqKioqKioqKioqKioqKioqKiAqL1xyXG4vKiBEZWNsYXJhdGlvbnMgb2YgcG9wdXBzICovXHJcbi8qICoqKioqKioqKioqKioqKioqKioqKiogKi9cclxuY29uc3QgYXZhdGFyRm9ybSA9IG5ldyBQb3B1cFdpdGhGb3JtKFwiZm9ybVtuYW1lPSdhdmF0YXItZm9ybSddXCIsIChkYXRhKSA9PiB7XHJcbiAgYXZhdGFyRm9ybS5zdWJtaXRCdXR0b24udGV4dENvbnRlbnQgPSBcIlNhdmluZy4uLlwiO1xyXG4gIGFwaVxyXG4gICAgLmVkaXRQcm9maWxlUGljdHVyZShkYXRhLmxpbmspXHJcbiAgICAudGhlbigocmVzKSA9PiAocmVzLm9rID8gdHJ1ZSA6IHJlcy5zdGF0dXMpKVxyXG4gICAgLnRoZW4oKCkgPT4ge1xyXG4gICAgICB1c2VySW5mby5zZXRBdmF0YXIoZGF0YS5saW5rKTtcclxuICAgIH0pXHJcbiAgICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5lcnJvcihlcnIpKVxyXG4gICAgLmZpbmFsbHkoKCkgPT4ge1xyXG4gICAgICBhdmF0YXJGb3JtLnN1Ym1pdEJ1dHRvbi50ZXh0Q29udGVudCA9IFwiU2F2ZVwiO1xyXG4gICAgICBhdmF0YXJGb3JtLmNsb3NlKCk7XHJcbiAgICB9KTtcclxufSk7XHJcbmF2YXRhckZvcm0uc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuXHJcbmNvbnN0IGNhcmRGb3JtID0gbmV3IFBvcHVwV2l0aEZvcm0oXCJmb3JtW25hbWU9J2NhcmQtZm9ybSddXCIsIChkYXRhKSA9PiB7XHJcbiAgY2FyZEZvcm0uc3VibWl0QnV0dG9uLnRleHRDb250ZW50ID0gXCJTYXZpbmcuLi5cIjtcclxuICBhcGlcclxuICAgIC5hZGROZXdDYXJkKHsgbmFtZTogZGF0YS5uYW1lLCBsaW5rOiBkYXRhLmxpbmsgfSlcclxuICAgIC50aGVuKChyZXMpID0+IChyZXMub2sgPyB0cnVlIDogcmVzLnN0YXR1cykpXHJcbiAgICAudGhlbigoKSA9PiB7XHJcbiAgICAgIGNhcmRHYWxsZXJ5LmFkZEl0ZW0oZGF0YSk7XHJcbiAgICB9KVxyXG4gICAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUuZXJyb3IoZXJyKSlcclxuICAgIC5maW5hbGx5KCgpID0+IHtcclxuICAgICAgY2FyZEZvcm0uc3VibWl0QnV0dG9uLnRleHRDb250ZW50ID0gXCJDcmVhdGVcIjtcclxuICAgICAgY2FyZEZvcm0uY2xvc2UoKTtcclxuICAgIH0pO1xyXG59KTtcclxuY2FyZEZvcm0uc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuXHJcbmNvbnN0IHByb2ZpbGVGb3JtID0gbmV3IFBvcHVwV2l0aEZvcm0oXCJmb3JtW25hbWU9J3Byb2ZpbGUtZm9ybSddXCIsIChkYXRhKSA9PiB7XHJcbiAgcHJvZmlsZUZvcm0uc3VibWl0QnV0dG9uLnRleHRDb250ZW50ID0gXCJTYXZpbmcuLi5cIjtcclxuICBhcGlcclxuICAgIC5lZGl0VXNlckluZm8oeyBuYW1lOiBkYXRhLm5hbWUsIGpvYjogZGF0YS5qb2IgfSlcclxuICAgIC50aGVuKChyZXMpID0+IChyZXMub2sgPyB0cnVlIDogcmVzLnN0YXR1cykpXHJcbiAgICAudGhlbigoKSA9PiB7XHJcbiAgICAgIHVzZXJJbmZvLnNldFVzZXJJbmZvKHsgbmFtZTogZGF0YS5uYW1lLCBhYm91dDogZGF0YS5qb2IgfSk7XHJcbiAgICB9KVxyXG4gICAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUuZXJyb3IoZXJyKSlcclxuICAgIC5maW5hbGx5KCgpID0+IHtcclxuICAgICAgcHJvZmlsZUZvcm0uc3VibWl0QnV0dG9uLnRleHRDb250ZW50ID0gXCJTYXZlXCI7XHJcbiAgICAgIHByb2ZpbGVGb3JtLmNsb3NlKCk7XHJcbiAgICB9KTtcclxufSk7XHJcbnByb2ZpbGVGb3JtLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG5jb25zdCBjb25maXJtRGVsZXRlUG9wdXAgPSBuZXcgUG9wdXBEZWxldGVDb25maXJtYXRpb24oXHJcbiAgXCJmb3JtW25hbWU9J2RlbGV0ZS1mb3JtJ11cIlxyXG4pO1xyXG5jb25maXJtRGVsZXRlUG9wdXAuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuXHJcbmNvbnN0IHBpY3R1cmVQb3B1cCA9IG5ldyBQb3B1cFdpdGhJbWFnZShcIi5wb3B1cF9fcGljdHVyZVwiKTtcclxucGljdHVyZVBvcHVwLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG4vKiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xyXG4vKiBEZWNsYXJhdGlvbiBvZiBjYXJkIGdhbGxlcnkgc2VjdGlvbiAqL1xyXG4vKiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xyXG5jb25zdCBjYXJkR2FsbGVyeSA9IG5ldyBTZWN0aW9uKChkYXRhKSA9PiB7XHJcbiAgY29uc3QgY2FyZCA9IG5ldyBDYXJkKFxyXG4gICAgZGF0YSxcclxuICAgIFwiLmNhcmQtdGVtcGxhdGVcIixcclxuICAgIChkYXRhKSA9PiB7XHJcbiAgICAgIHBpY3R1cmVQb3B1cC5vcGVuKGRhdGEpO1xyXG4gICAgfSxcclxuICAgICgpID0+IHtcclxuICAgICAgY29uZmlybURlbGV0ZVBvcHVwLnNldFN1Ym1pdEFjdGlvbigoKSA9PiB7XHJcbiAgICAgICAgYXBpLmRlbGV0ZUNhcmQoZGF0YS5faWQpO1xyXG4gICAgICAgIGNhcmQuZGVsZXRlQ2FyZCgpO1xyXG4gICAgICAgIGNvbmZpcm1EZWxldGVQb3B1cC5jbG9zZSgpO1xyXG4gICAgICB9KTtcclxuICAgICAgY29uZmlybURlbGV0ZVBvcHVwLm9wZW4oKTtcclxuICAgIH0sXHJcbiAgICAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IGNhcmRMaWtlSWNvbiA9IGNhcmQuY2FyZC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2xpa2VcIik7XHJcbiAgICAgIGlmIChjYXJkLmxpa2VkKSB7XHJcbiAgICAgICAgYXBpXHJcbiAgICAgICAgICAucmVtb3ZlTGlrZShkYXRhLl9pZClcclxuICAgICAgICAgIC50aGVuKChyZXMpID0+IChyZXMub2sgPyB0cnVlIDogcmVzLnN0YXR1cykpXHJcbiAgICAgICAgICAudGhlbigoKSA9PiB7XHJcbiAgICAgICAgICAgIGNhcmRMaWtlSWNvbi5jbGFzc0xpc3QucmVtb3ZlKFwiY2FyZF9fbGlrZV9hY3RpdmVcIik7XHJcbiAgICAgICAgICAgIGNhcmQubGlrZWQgPSBmYWxzZTtcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5lcnJvcihlcnIpKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBhcGlcclxuICAgICAgICAgIC5hZGRMaWtlKGRhdGEuX2lkKVxyXG4gICAgICAgICAgLnRoZW4oKHJlcykgPT4gKHJlcy5vayA/IHRydWUgOiByZXMuc3RhdHVzKSlcclxuICAgICAgICAgIC50aGVuKCgpID0+IHtcclxuICAgICAgICAgICAgY2FyZExpa2VJY29uLmNsYXNzTGlzdC5hZGQoXCJjYXJkX19saWtlX2FjdGl2ZVwiKTtcclxuICAgICAgICAgICAgY2FyZC5saWtlZCA9IHRydWU7XHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUuZXJyb3IoZXJyKSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICApO1xyXG4gIGNvbnN0IGNhcmRFbGVtZW50ID0gY2FyZC5nZW5lcmF0ZUNhcmQoKTtcclxuICBjYXJkR2FsbGVyeS5jb250YWluZXIucHJlcGVuZChjYXJkRWxlbWVudCk7XHJcbn0sIFwiLmdhbGxlcnlfX2NhcmRzXCIpO1xyXG5cclxuLyogKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXHJcbi8qIEV2ZW50IGxpc3RlbmVycyBmb3Igb3BlbmluZyBmb3JtcyAqL1xyXG4vKiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cclxuZWRpdEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xyXG4gIGNvbnN0IGRhdGEgPSB1c2VySW5mby5nZXRVc2VySW5mbygpO1xyXG4gIHByb2ZpbGVGb3JtTmFtZS52YWx1ZSA9IGRhdGEubmFtZTtcclxuICBwcm9maWxlRm9ybUpvYi52YWx1ZSA9IGRhdGEuam9iO1xyXG5cclxuICBmb3JtVmFsaWRhdG9yc1tcInByb2ZpbGUtZm9ybVwiXS5yZXNldFZhbGlkYXRpb24oKTtcclxuICBwcm9maWxlRm9ybS5vcGVuKCk7XHJcbn0pO1xyXG5cclxuYWRkQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XHJcbiAgZm9ybVZhbGlkYXRvcnNbXCJjYXJkLWZvcm1cIl0ucmVzZXRWYWxpZGF0aW9uKCk7XHJcbiAgY2FyZEZvcm0ub3BlbigpO1xyXG59KTtcclxuXHJcbmF2YXRhckJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xyXG4gIGZvcm1WYWxpZGF0b3JzW1wiYXZhdGFyLWZvcm1cIl0ucmVzZXRWYWxpZGF0aW9uKCk7XHJcbiAgYXZhdGFyRm9ybS5vcGVuKCk7XHJcbn0pO1xyXG5cclxuLyogKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xyXG4vKiBQcm9taXNlcyBmb3IgaW5pdGlhbCBkYXRhICovXHJcbi8qICoqKioqKioqKioqKioqKioqKioqKioqKiogKi9cclxuY29uc3QgaW5pdGlhbENhcmRzID0gYXBpXHJcbiAgLmdldENhcmRJbmZvKClcclxuICAudGhlbigocmVzKSA9PiAocmVzLm9rID8gcmVzLmpzb24oKSA6IHJlcy5zdGF0dXMpKVxyXG4gIC50aGVuKChyZXMpID0+IHtcclxuICAgIGNhcmRHYWxsZXJ5LnNldEl0ZW1zKHJlcyk7XHJcbiAgICBjYXJkR2FsbGVyeS5yZW5kZXJJdGVtcygpO1xyXG4gIH0pXHJcbiAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUuZXJyb3IoZXJyKSk7XHJcblxyXG5jb25zdCBpbml0aWFsUHJvZmlsZSA9IGFwaVxyXG4gIC5nZXRVc2VySW5mbygpXHJcbiAgLnRoZW4oKHJlcykgPT4gKHJlcy5vayA/IHJlcy5qc29uKCkgOiByZXMuc3RhdHVzKSlcclxuICAudGhlbigocmVzKSA9PiB7XHJcbiAgICB1c2VySW5mby5zZXRVc2VySW5mbyh7IG5hbWU6IHJlcy5uYW1lLCBhYm91dDogcmVzLmFib3V0IH0pO1xyXG4gICAgdXNlckluZm8uc2V0QXZhdGFyKHJlcy5hdmF0YXIpO1xyXG4gIH0pXHJcbiAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUuZXJyb3IoZXJyKSk7XHJcblxyXG5Qcm9taXNlLmFsbChbaW5pdGlhbENhcmRzLCBpbml0aWFsUHJvZmlsZV0pXHJcbiAgLnRoZW4oKHJlcykgPT4gKHJlcy5vayA/IHJlcy5qc29uKCkgOiByZXMuc3RhdHVzKSlcclxuICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5lcnJvcihlcnIpKTtcclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQXBpIHtcclxuICBjb25zdHJ1Y3Rvcih7IGJhc2VVcmwsIGF1dGhvcml6YXRpb24gfSkge1xyXG4gICAgdGhpcy5fYmFzZVVybCA9IGJhc2VVcmw7XHJcbiAgICB0aGlzLl9hdXRob3JpemF0aW9uID0gYXV0aG9yaXphdGlvbjtcclxuICB9XHJcblxyXG4gIGdldFVzZXJJbmZvKCkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L3VzZXJzL21lYCwge1xyXG4gICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgYXV0aG9yaXphdGlvbjogdGhpcy5fYXV0aG9yaXphdGlvbixcclxuICAgICAgfSxcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgZ2V0Q2FyZEluZm8oKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHNgLCB7XHJcbiAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICBhdXRob3JpemF0aW9uOiB0aGlzLl9hdXRob3JpemF0aW9uLFxyXG4gICAgICB9LFxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBlZGl0VXNlckluZm8oeyBuYW1lLCBqb2IgfSkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L3VzZXJzL21lYCwge1xyXG4gICAgICBtZXRob2Q6IFwiUEFUQ0hcIixcclxuICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgIGF1dGhvcml6YXRpb246IHRoaXMuX2F1dGhvcml6YXRpb24sXHJcbiAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXHJcbiAgICAgIH0sXHJcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICBuYW1lOiBuYW1lLFxyXG4gICAgICAgIGFib3V0OiBqb2IsXHJcbiAgICAgIH0pLFxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBlZGl0UHJvZmlsZVBpY3R1cmUobGluaykge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L3VzZXJzL21lL2F2YXRhcmAsIHtcclxuICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXHJcbiAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICBhdXRob3JpemF0aW9uOiB0aGlzLl9hdXRob3JpemF0aW9uLFxyXG4gICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxyXG4gICAgICB9LFxyXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgYXZhdGFyOiBsaW5rLFxyXG4gICAgICB9KSxcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgYWRkTmV3Q2FyZCh7IG5hbWUsIGxpbmsgfSkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzYCwge1xyXG4gICAgICBtZXRob2Q6IFwiUE9TVFwiLFxyXG4gICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgYXV0aG9yaXphdGlvbjogdGhpcy5fYXV0aG9yaXphdGlvbixcclxuICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcclxuICAgICAgfSxcclxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgIG5hbWU6IG5hbWUsXHJcbiAgICAgICAgbGluazogbGluayxcclxuICAgICAgfSksXHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGRlbGV0ZUNhcmQoaWQpIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkcy8ke2lkfWAsIHtcclxuICAgICAgbWV0aG9kOiBcIkRFTEVURVwiLFxyXG4gICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgYXV0aG9yaXphdGlvbjogdGhpcy5fYXV0aG9yaXphdGlvbixcclxuICAgICAgfSxcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgYWRkTGlrZShpZCkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzLyR7aWR9L2xpa2VzYCwge1xyXG4gICAgICBtZXRob2Q6IFwiUFVUXCIsXHJcbiAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICBhdXRob3JpemF0aW9uOiB0aGlzLl9hdXRob3JpemF0aW9uLFxyXG4gICAgICB9LFxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICByZW1vdmVMaWtlKGlkKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHMvJHtpZH0vbGlrZXNgLCB7XHJcbiAgICAgIG1ldGhvZDogXCJERUxFVEVcIixcclxuICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgIGF1dGhvcml6YXRpb246IHRoaXMuX2F1dGhvcml6YXRpb24sXHJcbiAgICAgIH0sXHJcbiAgICB9KTtcclxuICB9XHJcbn1cclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgVXNlckluZm8ge1xyXG4gIGNvbnN0cnVjdG9yKHsgbmFtZVNlbGVjdG9yLCBqb2JTZWxlY3RvciwgYXZhdGFyU2VsZWN0b3IgfSkge1xyXG4gICAgdGhpcy5fbmFtZUVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKG5hbWVTZWxlY3Rvcik7XHJcbiAgICB0aGlzLl9qb2JFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihqb2JTZWxlY3Rvcik7XHJcbiAgICB0aGlzLl9hdmF0YXJTZWxlY3RvciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYXZhdGFyU2VsZWN0b3IpO1xyXG4gIH1cclxuXHJcbiAgZ2V0VXNlckluZm8oKSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBuYW1lOiB0aGlzLl9uYW1lRWxlbWVudC50ZXh0Q29udGVudCxcclxuICAgICAgam9iOiB0aGlzLl9qb2JFbGVtZW50LnRleHRDb250ZW50LFxyXG4gICAgfTtcclxuICB9XHJcblxyXG4gIHNldFVzZXJJbmZvKHsgbmFtZSwgYWJvdXQgfSkge1xyXG4gICAgdGhpcy5fbmFtZUVsZW1lbnQudGV4dENvbnRlbnQgPSBuYW1lO1xyXG4gICAgdGhpcy5fam9iRWxlbWVudC50ZXh0Q29udGVudCA9IGFib3V0O1xyXG4gIH1cclxuXHJcbiAgc2V0QXZhdGFyKGxpbmspIHtcclxuICAgIHRoaXMuX2F2YXRhclNlbGVjdG9yLnNyYyA9IGxpbms7XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBEZWxldGVDb25maXJtYXRpb24gZXh0ZW5kcyBQb3B1cCB7XHJcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcikge1xyXG4gICAgc3VwZXIocG9wdXBTZWxlY3Rvcik7XHJcbiAgICB0aGlzLmZvcm1FbGVtZW50ID0gdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZm9ybVwiKTtcclxuICB9XHJcblxyXG4gIHNldFN1Ym1pdEFjdGlvbihhY3Rpb24pIHtcclxuICAgIHRoaXMuX2hhbmRsZVN1Ym1pdENhbGxiYWNrID0gYWN0aW9uO1xyXG4gIH1cclxuXHJcbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICB0aGlzLmZvcm1FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGV2dCkgPT4ge1xyXG4gICAgICBldnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgdGhpcy5faGFuZGxlU3VibWl0Q2FsbGJhY2soKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhJbWFnZSBleHRlbmRzIFBvcHVwIHtcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcikge1xuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xuICAgIHRoaXMuX3BvcHVwSW1hZ2UgPSB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcihcImltZ1wiKTtcbiAgICB0aGlzLl9wb3B1cENhcHRpb24gPSB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcihcImZpZ2NhcHRpb25cIik7XG4gIH1cblxuICBvcGVuKHsgbmFtZSwgbGluayB9KSB7XG4gICAgdGhpcy5fcG9wdXBJbWFnZS5hbHQgPSBuYW1lO1xuICAgIHRoaXMuX3BvcHVwSW1hZ2Uuc3JjID0gbGluaztcbiAgICB0aGlzLl9wb3B1cENhcHRpb24udGV4dENvbnRlbnQgPSBuYW1lO1xuICAgIHN1cGVyLm9wZW4oKTtcbiAgfVxufVxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2VjdGlvbiB7XHJcbiAgY29uc3RydWN0b3IocmVuZGVyZXIsIGNsYXNzU2VsZWN0b3IpIHtcclxuICAgIHRoaXMuX3JlbmRlcmVyID0gcmVuZGVyZXI7XHJcbiAgICB0aGlzLmNvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoY2xhc3NTZWxlY3Rvcik7XHJcbiAgfVxyXG5cclxuICByZW5kZXJJdGVtcygpIHtcclxuICAgIHRoaXMuX2l0ZW1zLmZvckVhY2goKGl0ZW0pID0+IHtcclxuICAgICAgdGhpcy5fcmVuZGVyZXIoaXRlbSk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGFkZEl0ZW0oaXRlbSkge1xyXG4gICAgdGhpcy5fcmVuZGVyZXIoaXRlbSk7XHJcbiAgfVxyXG5cclxuICBzZXRJdGVtcyhpdGVtcykge1xyXG4gICAgdGhpcy5faXRlbXMgPSBpdGVtcztcclxuICB9XHJcbn1cclxuIl0sIm5hbWVzIjpbIkNhcmQiLCJjb25zdHJ1Y3RvciIsImRhdGEiLCJjYXJkU2VsZWN0b3IiLCJoYW5kbGVJbWFnZUNsaWNrIiwiaGFuZGxlRGVsZXRlQ2xpY2siLCJoYW5kbGVMaWtlQ2xpY2siLCJ0aGlzIiwiX25hbWUiLCJuYW1lIiwiX2xpbmsiLCJsaW5rIiwibGlrZWQiLCJpc0xpa2VkIiwiX2lkIiwiX2NhcmRTZWxlY3RvciIsIl9oYW5kbGVJbWFnZUNsaWNrIiwiX2hhbmRsZURlbGV0ZUNsaWNrIiwiX2hhbmRsZUxpa2VDbGljayIsIl9nZXRUZW1wbGF0ZSIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImNvbnRlbnQiLCJjbG9uZU5vZGUiLCJfc2V0RXZlbnRMaXN0ZW5lcnMiLCJjYXJkIiwiYWRkRXZlbnRMaXN0ZW5lciIsIl9jYXJkSW1hZ2VFbGVtZW50IiwiZGVsZXRlQ2FyZCIsInJlbW92ZSIsImdlbmVyYXRlQ2FyZCIsInNyYyIsImFsdCIsInRleHRDb250ZW50IiwiY2xhc3NMaXN0IiwiYWRkIiwiRm9ybVZhbGlkYXRvciIsInNldHRpbmdzIiwiZm9ybUVsZW1lbnQiLCJfZm9ybVNlbGVjdG9yIiwiZm9ybVNlbGVjdG9yIiwiX2lucHV0U2VsZWN0b3IiLCJpbnB1dFNlbGVjdG9yIiwiX3N1Ym1pdEJ1dHRvblNlbGVjdG9yIiwic3VibWl0QnV0dG9uU2VsZWN0b3IiLCJfaW5hY3RpdmVCdXR0b25DbGFzcyIsImluYWN0aXZlQnV0dG9uQ2xhc3MiLCJfaW5wdXRFcnJvckNsYXNzIiwiaW5wdXRFcnJvckNsYXNzIiwiX2Vycm9yQ2xhc3MiLCJlcnJvckNsYXNzIiwiX2Zvcm1FbGVtZW50IiwiX2lucHV0TGlzdCIsIkFycmF5IiwiZnJvbSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJfYnV0dG9uRWxlbWVudCIsIl9zaG93SW5wdXRFcnJvciIsImlucHV0RWxlbWVudCIsImVycm9yTWVzc2FnZSIsImVycm9yRWxlbWVudCIsIl9oaWRlSW5wdXRFcnJvciIsIl9jaGVja0lucHV0VmFsaWRpdHkiLCJ2YWxpZGl0eSIsInZhbGlkIiwidmFsaWRhdGlvbk1lc3NhZ2UiLCJfaGFzSW52YWxpZElucHV0Iiwic29tZSIsIl90b2dnbGVCdXR0b25TdGF0ZSIsImRpc2FibGVCdXR0b24iLCJkaXNhYmxlZCIsImZvckVhY2giLCJlbmFibGVWYWxpZGF0aW9uIiwicmVzZXRWYWxpZGF0aW9uIiwiUG9wdXAiLCJwb3B1cFNlbGVjdG9yIiwiX3BvcHVwU2VsZWN0b3IiLCJfcG9wdXBFbGVtZW50IiwiY2xvc2VzdCIsIm9wZW4iLCJfaGFuZGxlRXNjQ2xvc2UiLCJfaGFuZGxlT3V0c2lkZUNsaWNrQ2xvc2UiLCJjbG9zZSIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJldnQiLCJrZXkiLCJ0YXJnZXQiLCJjb250YWlucyIsInNldEV2ZW50TGlzdGVuZXJzIiwiUG9wdXBXaXRoRm9ybSIsInN1Ym1pdEZvcm0iLCJzdXBlciIsInN1Ym1pdEJ1dHRvbiIsIl9zdWJtaXRGb3JtIiwiX2dldElucHV0VmFsdWVzIiwiaW5wdXRGaWVsZHMiLCJmaWVsZCIsInZhbHVlIiwicmVzZXQiLCJwcmV2ZW50RGVmYXVsdCIsImVkaXRCdXR0b24iLCJhZGRCdXR0b24iLCJhdmF0YXJCdXR0b24iLCJwcm9maWxlRm9ybU5hbWUiLCJmb3JtcyIsImVsZW1lbnRzIiwicHJvZmlsZUZvcm1Kb2IiLCJmb3JtVmFsaWRhdG9ycyIsImZvcm1TZXR0aW5ncyIsInZhbGlkYXRvciIsImZvcm1OYW1lIiwiZ2V0QXR0cmlidXRlIiwiYXBpIiwiX3JlZiIsImJhc2VVcmwiLCJhdXRob3JpemF0aW9uIiwiX2Jhc2VVcmwiLCJfYXV0aG9yaXphdGlvbiIsImdldFVzZXJJbmZvIiwiZmV0Y2giLCJoZWFkZXJzIiwiZ2V0Q2FyZEluZm8iLCJlZGl0VXNlckluZm8iLCJfcmVmMiIsImpvYiIsIm1ldGhvZCIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwiYWJvdXQiLCJlZGl0UHJvZmlsZVBpY3R1cmUiLCJhdmF0YXIiLCJhZGROZXdDYXJkIiwiX3JlZjMiLCJpZCIsImFkZExpa2UiLCJyZW1vdmVMaWtlIiwidXNlckluZm8iLCJuYW1lU2VsZWN0b3IiLCJqb2JTZWxlY3RvciIsImF2YXRhclNlbGVjdG9yIiwiX25hbWVFbGVtZW50IiwiX2pvYkVsZW1lbnQiLCJfYXZhdGFyU2VsZWN0b3IiLCJzZXRVc2VySW5mbyIsInNldEF2YXRhciIsImF2YXRhckZvcm0iLCJ0aGVuIiwicmVzIiwib2siLCJzdGF0dXMiLCJjYXRjaCIsImVyciIsImNvbnNvbGUiLCJlcnJvciIsImZpbmFsbHkiLCJjYXJkRm9ybSIsImNhcmRHYWxsZXJ5IiwiYWRkSXRlbSIsInByb2ZpbGVGb3JtIiwiY29uZmlybURlbGV0ZVBvcHVwIiwic2V0U3VibWl0QWN0aW9uIiwiYWN0aW9uIiwiX2hhbmRsZVN1Ym1pdENhbGxiYWNrIiwicGljdHVyZVBvcHVwIiwiX3BvcHVwSW1hZ2UiLCJfcG9wdXBDYXB0aW9uIiwicmVuZGVyZXIiLCJjbGFzc1NlbGVjdG9yIiwiX3JlbmRlcmVyIiwiY29udGFpbmVyIiwicmVuZGVySXRlbXMiLCJfaXRlbXMiLCJpdGVtIiwic2V0SXRlbXMiLCJpdGVtcyIsImNhcmRMaWtlSWNvbiIsImNhcmRFbGVtZW50IiwicHJlcGVuZCIsImluaXRpYWxDYXJkcyIsImpzb24iLCJpbml0aWFsUHJvZmlsZSIsIlByb21pc2UiLCJhbGwiXSwic291cmNlUm9vdCI6IiJ9