!function(){"use strict";class e{constructor(e,t,s,r,n){this._name=e.name,this._link=e.link,this.liked=e.isLiked,this._id=e._id,this._cardSelector=t,this._handleImageClick=s,this._handleDeleteClick=r,this._handleLikeClick=n}_getTemplate(){return document.querySelector(this._cardSelector).content.querySelector(".card").cloneNode(!0)}_setEventListeners(){this.card.querySelector(".card__delete").addEventListener("click",(()=>{this._handleDeleteClick()})),this.card.querySelector(".card__like").addEventListener("click",(()=>{this._handleLikeClick()})),this._cardImageElement.addEventListener("click",(()=>{this._handleImageClick({name:this._name,link:this._link})}))}deleteCard(){this.card.remove(),this.card=null}generateCard(){return this.card=this._getTemplate(),this._cardImageElement=this.card.querySelector(".card__image"),this._cardImageElement.src=this._link,this._cardImageElement.alt=this._name,this.card.querySelector(".card__name").textContent=this._name,this.liked&&this.card.querySelector(".card__like").classList.add("card__like_active"),this._setEventListeners(),this.card}}class t{constructor(e,t){this._formSelector=e.formSelector,this._inputSelector=e.inputSelector,this._submitButtonSelector=e.submitButtonSelector,this._inactiveButtonClass=e.inactiveButtonClass,this._inputErrorClass=e.inputErrorClass,this._errorClass=e.errorClass,this._formElement=t,this._inputList=Array.from(this._formElement.querySelectorAll(this._inputSelector)),this._buttonElement=this._formElement.querySelector(this._submitButtonSelector)}_showInputError(e,t){const s=this._formElement.querySelector(`.${e.name}-input-error`);e.classList.add(this._inputErrorClass),s.textContent=t,s.classList.add(this._errorClass)}_hideInputError(e){const t=this._formElement.querySelector(`.${e.name}-input-error`);e.classList.remove(this._inputErrorClass),t.textContent="",t.classList.remove(this._errorClass)}_checkInputValidity(e){e.validity.valid?this._hideInputError(e):this._showInputError(e,e.validationMessage)}_hasInvalidInput(){return this._inputList.some((e=>!e.validity.valid))}_toggleButtonState(){this._hasInvalidInput()?this.disableButton():(this._buttonElement.classList.remove(this._inactiveButtonClass),this._buttonElement.disabled=!1)}_setEventListeners(){this._inputList.forEach((e=>{e.addEventListener("input",(()=>{this._checkInputValidity(e),this._toggleButtonState()}))}))}enableValidation(){this._setEventListeners()}resetValidation(){this._toggleButtonState(),this._inputList.forEach((e=>{this._hideInputError(e)}))}disableButton(){this._buttonElement.classList.add(this._inactiveButtonClass),this._buttonElement.disabled=!0}}class s{constructor(e){this._popupSelector=e,this._popupElement=document.querySelector(this._popupSelector).closest(".popup")}open(){this._popupElement.classList.add("popup_opened"),document.addEventListener("keydown",this._handleEscClose),this._popupElement.addEventListener("mousedown",this._handleOutsideClickClose)}close(){this._popupElement.classList.remove("popup_opened"),document.removeEventListener("keydown",this._handleEscClose),this._popupElement.removeEventListener("mousedown",this._handleOutsideClickClose)}_handleEscClose=e=>{"Escape"===e.key&&this.close()};_handleOutsideClickClose=e=>{e.target.classList.contains("popup_opened")&&this.close()};setEventListeners(){this._popupElement.querySelector(".popup__close-button").addEventListener("click",(()=>{this.close()}))}}class r extends s{constructor(e,t){super(e),this.formElement=this._popupElement.querySelector(".form"),this.submitButton=this.formElement.querySelector(".form__submit"),this._submitForm=t}_getInputValues(){const e=Array.from(this.formElement.querySelectorAll(".form__field")),t={};return e.forEach((e=>{t[e.name]=e.value})),t}close(){super.close(),this.formElement.reset()}setEventListeners(){this.formElement.addEventListener("submit",(e=>{e.preventDefault(),this._submitForm(this._getInputValues())})),super.setEventListeners()}}const n=document.querySelector(".profile__edit-button"),o=document.querySelector(".profile__add-button"),i=document.querySelector(".profile__picture-edit-button"),a=document.forms["profile-form"].elements.name,l=document.forms["profile-form"].elements.job,c={};var u;u={formSelector:".form",inputSelector:".form__field",submitButtonSelector:".form__submit",inactiveButtonClass:"form__submit_disabled",inputErrorClass:"form__field_type_error",errorClass:"form__input-error_active"},Array.from(document.querySelectorAll(u.formSelector)).forEach((e=>{const s=new t(u,e),r=e.getAttribute("name");c[r]=s,s.enableValidation()}));const h=new class{constructor(e){let{baseUrl:t,authorization:s}=e;this._baseUrl=t,this._authorization=s}getUserInfo(){return fetch(`${this._baseUrl}/users/me`,{headers:{authorization:this._authorization}})}getCardInfo(){return fetch(`${this._baseUrl}/cards`,{headers:{authorization:this._authorization}})}editUserInfo(e){let{name:t,job:s}=e;return fetch(`${this._baseUrl}/users/me`,{method:"PATCH",headers:{authorization:this._authorization,"Content-Type":"application/json"},body:JSON.stringify({name:t,about:s})})}editProfilePicture(e){return fetch(`${this._baseUrl}/users/me/avatar`,{method:"PATCH",headers:{authorization:this._authorization,"Content-Type":"application/json"},body:JSON.stringify({avatar:e})})}addNewCard(e){let{name:t,link:s}=e;return fetch(`${this._baseUrl}/cards`,{method:"POST",headers:{authorization:this._authorization,"Content-Type":"application/json"},body:JSON.stringify({name:t,link:s})})}deleteCard(e){return fetch(`${this._baseUrl}/cards/${e}`,{method:"DELETE",headers:{authorization:this._authorization}})}addLike(e){return fetch(`${this._baseUrl}/cards/${e}/likes`,{method:"PUT",headers:{authorization:this._authorization}})}removeLike(e){return fetch(`${this._baseUrl}/cards/${e}/likes`,{method:"DELETE",headers:{authorization:this._authorization}})}}({baseUrl:"https://around-api.en.tripleten-services.com/v1",authorization:"a0548a22-3cdf-48eb-9822-7e7daf1b0604"}),d=new class{constructor(e){let{nameSelector:t,jobSelector:s,avatarSelector:r}=e;this._nameElement=document.querySelector(t),this._jobElement=document.querySelector(s),this._avatarSelector=document.querySelector(r)}getUserInfo(){return{name:this._nameElement.textContent,job:this._jobElement.textContent}}setUserInfo(e){let{name:t,about:s}=e;this._nameElement.textContent=t,this._jobElement.textContent=s}setAvatar(e){this._avatarSelector.src=e}}({nameSelector:".profile__name",jobSelector:".profile__job",avatarSelector:".profile__picture"}),m=new r("form[name='avatar-form']",(e=>{m.submitButton.textContent="Saving...",h.editProfilePicture(e.link).then((e=>!!e.ok||e.status)).then((()=>{d.setAvatar(e.link)})).catch((e=>console.error(e))).finally((()=>{m.submitButton.textContent="Save",m.close()}))}));m.setEventListeners();const _=new r("form[name='card-form']",(e=>{_.submitButton.textContent="Saving...",h.addNewCard({name:e.name,link:e.link}).then((e=>!!e.ok||e.status)).then((()=>{v.addItem(e)})).catch((e=>console.error(e))).finally((()=>{_.submitButton.textContent="Create",_.close()}))}));_.setEventListeners();const p=new r("form[name='profile-form']",(e=>{p.submitButton.textContent="Saving...",h.editUserInfo({name:e.name,job:e.job}).then((e=>!!e.ok||e.status)).then((()=>{d.setUserInfo({name:e.name,about:e.job})})).catch((e=>console.error(e))).finally((()=>{p.submitButton.textContent="Save",p.close()}))}));p.setEventListeners();const f=new class extends s{constructor(e){super(e),this.formElement=this._popupElement.querySelector(".form")}setSubmitAction(e){this._handleSubmitCallback=e}setEventListeners(){this.formElement.addEventListener("submit",(e=>{e.preventDefault(),this._handleSubmitCallback()})),super.setEventListeners()}}("form[name='delete-form']");f.setEventListeners();const E=new class extends s{constructor(e){super(e),this._popupImage=this._popupElement.querySelector("img"),this._popupCaption=this._popupElement.querySelector("figcaption")}open(e){let{name:t,link:s}=e;this._popupImage.alt=t,this._popupImage.src=s,this._popupCaption.textContent=t,super.open()}}(".popup__picture");E.setEventListeners();const v=new class{constructor(e,t){this._renderer=e,this.container=document.querySelector(t)}renderItems(){this._items.forEach((e=>{this._renderer(e)}))}addItem(e){this._renderer(e)}setItems(e){this._items=e}}((t=>{const s=new e(t,".card-template",(e=>{E.open(e)}),(()=>{f.setSubmitAction((()=>{h.deleteCard(t._id),s.deleteCard(),f.close()})),f.open()}),(()=>{const e=s.card.querySelector(".card__like");s.liked?h.removeLike(t._id).then((e=>!!e.ok||e.status)).then((()=>{e.classList.remove("card__like_active"),s.liked=!1})).catch((e=>console.error(e))):h.addLike(t._id).then((e=>!!e.ok||e.status)).then((()=>{e.classList.add("card__like_active"),s.liked=!0})).catch((e=>console.error(e)))})),r=s.generateCard();v.container.prepend(r)}),".gallery__cards");n.addEventListener("click",(function(){const e=d.getUserInfo();a.value=e.name,l.value=e.job,c["profile-form"].resetValidation(),p.open()})),o.addEventListener("click",(function(){c["card-form"].resetValidation(),_.open()})),i.addEventListener("click",(function(){c["avatar-form"].resetValidation(),m.open()}));const b=h.getCardInfo().then((e=>e.ok?e.json():e.status)).then((e=>{v.setItems(e),v.renderItems()})).catch((e=>console.error(e))),S=h.getUserInfo().then((e=>e.ok?e.json():e.status)).then((e=>{d.setUserInfo({name:e.name,about:e.about}),d.setAvatar(e.avatar)})).catch((e=>console.error(e)));Promise.all([b,S]).then((e=>e.ok?e.json():e.status)).catch((e=>console.error(e)))}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LEVBQWUsZ0JBQWdCbEMsa0JBQy9Cc0YsRUFBWWhGLE1BQ2QsSUFFQXNCLEVBQVUzRSxpQkFBaUIsU0FBUyxXQUNsQ2lGLEVBQWUsYUFBYWxDLGtCQUM1Qm1GLEVBQVM3RSxNQUNYLElBRUF1QixFQUFhNUUsaUJBQWlCLFNBQVMsV0FDckNpRixFQUFlLGVBQWVsQyxrQkFDOUJ5RSxFQUFXbkUsTUFDYixJQUtBLE1BQU1vRyxFQUFlbkUsRUFDbEJTLGNBQ0EwQixNQUFNQyxHQUFTQSxFQUFJQyxHQUFLRCxFQUFJZ0MsT0FBU2hDLEVBQUlFLFNBQ3pDSCxNQUFNQyxJQUNMUyxFQUFZaUIsU0FBUzFCLEdBQ3JCUyxFQUFZYyxhQUFhLElBRTFCcEIsT0FBT0MsR0FBUUMsUUFBUUMsTUFBTUYsS0FFMUI2QixFQUFpQnJFLEVBQ3BCTSxjQUNBNkIsTUFBTUMsR0FBU0EsRUFBSUMsR0FBS0QsRUFBSWdDLE9BQVNoQyxFQUFJRSxTQUN6Q0gsTUFBTUMsSUFDTFgsRUFBU08sWUFBWSxDQUFFdkksS0FBTTJJLEVBQUkzSSxLQUFNd0gsTUFBT21CLEVBQUluQixRQUNsRFEsRUFBU1EsVUFBVUcsRUFBSWpCLE9BQU8sSUFFL0JvQixPQUFPQyxHQUFRQyxRQUFRQyxNQUFNRixLQUVoQzhCLFFBQVFDLElBQUksQ0FBQ0osRUFBY0UsSUFDeEJsQyxNQUFNQyxHQUFTQSxFQUFJQyxHQUFLRCxFQUFJZ0MsT0FBU2hDLEVBQUlFLFNBQ3pDQyxPQUFPQyxHQUFRQyxRQUFRQyxNQUFNRixJIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvQ2FyZC5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL1BvcHVwLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL3V0aWxzL2NvbnN0YW50cy5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvcGFnZXMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvQXBpLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL1VzZXJJbmZvLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL1BvcHVwRGVsZXRlQ29uZmlybWF0aW9uLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL1NlY3Rpb24uanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2FyZCB7XG4gIGNvbnN0cnVjdG9yKFxuICAgIGRhdGEsXG4gICAgY2FyZFNlbGVjdG9yLFxuICAgIGhhbmRsZUltYWdlQ2xpY2ssXG4gICAgaGFuZGxlRGVsZXRlQ2xpY2ssXG4gICAgaGFuZGxlTGlrZUNsaWNrXG4gICkge1xuICAgIHRoaXMuX25hbWUgPSBkYXRhLm5hbWU7XG4gICAgdGhpcy5fbGluayA9IGRhdGEubGluaztcbiAgICB0aGlzLmxpa2VkID0gZGF0YS5pc0xpa2VkO1xuICAgIHRoaXMuX2lkID0gZGF0YS5faWQ7XG4gICAgdGhpcy5fY2FyZFNlbGVjdG9yID0gY2FyZFNlbGVjdG9yO1xuICAgIHRoaXMuX2hhbmRsZUltYWdlQ2xpY2sgPSBoYW5kbGVJbWFnZUNsaWNrO1xuICAgIHRoaXMuX2hhbmRsZURlbGV0ZUNsaWNrID0gaGFuZGxlRGVsZXRlQ2xpY2s7XG4gICAgdGhpcy5faGFuZGxlTGlrZUNsaWNrID0gaGFuZGxlTGlrZUNsaWNrO1xuICB9XG5cbiAgX2dldFRlbXBsYXRlKCkge1xuICAgIGNvbnN0IGNhcmRFbGVtZW50ID0gZG9jdW1lbnRcbiAgICAgIC5xdWVyeVNlbGVjdG9yKHRoaXMuX2NhcmRTZWxlY3RvcilcbiAgICAgIC5jb250ZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZFwiKVxuICAgICAgLmNsb25lTm9kZSh0cnVlKTtcblxuICAgIHJldHVybiBjYXJkRWxlbWVudDtcbiAgfVxuXG4gIF9zZXRFdmVudExpc3RlbmVycygpIHtcbiAgICB0aGlzLmNhcmQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19kZWxldGVcIikuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgIHRoaXMuX2hhbmRsZURlbGV0ZUNsaWNrKCk7XG4gICAgfSk7XG4gICAgdGhpcy5jYXJkLnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fbGlrZVwiKS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgdGhpcy5faGFuZGxlTGlrZUNsaWNrKCk7XG4gICAgfSk7XG4gICAgdGhpcy5fY2FyZEltYWdlRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgdGhpcy5faGFuZGxlSW1hZ2VDbGljayh7IG5hbWU6IHRoaXMuX25hbWUsIGxpbms6IHRoaXMuX2xpbmsgfSk7XG4gICAgfSk7XG4gIH1cblxuICBkZWxldGVDYXJkKCkge1xuICAgIHRoaXMuY2FyZC5yZW1vdmUoKTtcbiAgICB0aGlzLmNhcmQgPSBudWxsO1xuICB9XG5cbiAgZ2VuZXJhdGVDYXJkKCkge1xuICAgIHRoaXMuY2FyZCA9IHRoaXMuX2dldFRlbXBsYXRlKCk7XG4gICAgdGhpcy5fY2FyZEltYWdlRWxlbWVudCA9IHRoaXMuY2FyZC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2ltYWdlXCIpO1xuICAgIHRoaXMuX2NhcmRJbWFnZUVsZW1lbnQuc3JjID0gdGhpcy5fbGluaztcbiAgICB0aGlzLl9jYXJkSW1hZ2VFbGVtZW50LmFsdCA9IHRoaXMuX25hbWU7XG4gICAgdGhpcy5jYXJkLnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fbmFtZVwiKS50ZXh0Q29udGVudCA9IHRoaXMuX25hbWU7XG4gICAgaWYgKHRoaXMubGlrZWQpIHtcbiAgICAgIHRoaXMuY2FyZC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2xpa2VcIikuY2xhc3NMaXN0LmFkZChcImNhcmRfX2xpa2VfYWN0aXZlXCIpO1xuICAgIH1cblxuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XG5cbiAgICByZXR1cm4gdGhpcy5jYXJkO1xuICB9XG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBGb3JtVmFsaWRhdG9yIHtcbiAgY29uc3RydWN0b3Ioc2V0dGluZ3MsIGZvcm1FbGVtZW50KSB7XG4gICAgdGhpcy5fZm9ybVNlbGVjdG9yID0gc2V0dGluZ3MuZm9ybVNlbGVjdG9yO1xuICAgIHRoaXMuX2lucHV0U2VsZWN0b3IgPSBzZXR0aW5ncy5pbnB1dFNlbGVjdG9yO1xuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvblNlbGVjdG9yID0gc2V0dGluZ3Muc3VibWl0QnV0dG9uU2VsZWN0b3I7XG4gICAgdGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyA9IHNldHRpbmdzLmluYWN0aXZlQnV0dG9uQ2xhc3M7XG4gICAgdGhpcy5faW5wdXRFcnJvckNsYXNzID0gc2V0dGluZ3MuaW5wdXRFcnJvckNsYXNzO1xuICAgIHRoaXMuX2Vycm9yQ2xhc3MgPSBzZXR0aW5ncy5lcnJvckNsYXNzO1xuICAgIHRoaXMuX2Zvcm1FbGVtZW50ID0gZm9ybUVsZW1lbnQ7XG4gICAgdGhpcy5faW5wdXRMaXN0ID0gQXJyYXkuZnJvbShcbiAgICAgIHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5faW5wdXRTZWxlY3RvcilcbiAgICApO1xuICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKFxuICAgICAgdGhpcy5fc3VibWl0QnV0dG9uU2VsZWN0b3JcbiAgICApO1xuICB9XG5cbiAgX3Nob3dJbnB1dEVycm9yKGlucHV0RWxlbWVudCwgZXJyb3JNZXNzYWdlKSB7XG4gICAgY29uc3QgZXJyb3JFbGVtZW50ID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihcbiAgICAgIGAuJHtpbnB1dEVsZW1lbnQubmFtZX0taW5wdXQtZXJyb3JgXG4gICAgKTtcbiAgICBpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9pbnB1dEVycm9yQ2xhc3MpO1xuICAgIGVycm9yRWxlbWVudC50ZXh0Q29udGVudCA9IGVycm9yTWVzc2FnZTtcbiAgICBlcnJvckVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9lcnJvckNsYXNzKTtcbiAgfVxuXG4gIF9oaWRlSW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpIHtcbiAgICBjb25zdCBlcnJvckVsZW1lbnQgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKFxuICAgICAgYC4ke2lucHV0RWxlbWVudC5uYW1lfS1pbnB1dC1lcnJvcmBcbiAgICApO1xuICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2lucHV0RXJyb3JDbGFzcyk7XG4gICAgZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gXCJcIjtcbiAgICBlcnJvckVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9lcnJvckNsYXNzKTtcbiAgfVxuXG4gIF9jaGVja0lucHV0VmFsaWRpdHkoaW5wdXRFbGVtZW50KSB7XG4gICAgaWYgKCFpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWQpIHtcbiAgICAgIHRoaXMuX3Nob3dJbnB1dEVycm9yKGlucHV0RWxlbWVudCwgaW5wdXRFbGVtZW50LnZhbGlkYXRpb25NZXNzYWdlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KTtcbiAgICB9XG4gIH1cblxuICBfaGFzSW52YWxpZElucHV0KCkge1xuICAgIHJldHVybiB0aGlzLl9pbnB1dExpc3Quc29tZSgoaW5wdXRFbGVtZW50KSA9PiB7XG4gICAgICByZXR1cm4gIWlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZDtcbiAgICB9KTtcbiAgfVxuXG4gIF90b2dnbGVCdXR0b25TdGF0ZSgpIHtcbiAgICBpZiAodGhpcy5faGFzSW52YWxpZElucHV0KCkpIHtcbiAgICAgIHRoaXMuZGlzYWJsZUJ1dHRvbigpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9idXR0b25FbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyk7XG4gICAgICB0aGlzLl9idXR0b25FbGVtZW50LmRpc2FibGVkID0gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dEVsZW1lbnQpID0+IHtcbiAgICAgIGlucHV0RWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwgKCkgPT4ge1xuICAgICAgICB0aGlzLl9jaGVja0lucHV0VmFsaWRpdHkoaW5wdXRFbGVtZW50KTtcbiAgICAgICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgZW5hYmxlVmFsaWRhdGlvbigpIHtcbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xuICB9XG5cbiAgcmVzZXRWYWxpZGF0aW9uKCkge1xuICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKCk7XG4gICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0RWxlbWVudCkgPT4ge1xuICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KTtcbiAgICB9KTtcbiAgfVxuXG4gIGRpc2FibGVCdXR0b24oKSB7XG4gICAgdGhpcy5fYnV0dG9uRWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MpO1xuICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQuZGlzYWJsZWQgPSB0cnVlO1xuICB9XG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cCB7XHJcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcikge1xyXG4gICAgdGhpcy5fcG9wdXBTZWxlY3RvciA9IHBvcHVwU2VsZWN0b3I7XHJcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQgPSBkb2N1bWVudFxyXG4gICAgICAucXVlcnlTZWxlY3Rvcih0aGlzLl9wb3B1cFNlbGVjdG9yKVxyXG4gICAgICAuY2xvc2VzdChcIi5wb3B1cFwiKTtcclxuICB9XHJcblxyXG4gIG9wZW4oKSB7XHJcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQuY2xhc3NMaXN0LmFkZChcInBvcHVwX29wZW5lZFwiKTtcclxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcclxuICAgIHRoaXMuX3BvcHVwRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFxyXG4gICAgICBcIm1vdXNlZG93blwiLFxyXG4gICAgICB0aGlzLl9oYW5kbGVPdXRzaWRlQ2xpY2tDbG9zZVxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIGNsb3NlKCkge1xyXG4gICAgdGhpcy5fcG9wdXBFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoXCJwb3B1cF9vcGVuZWRcIik7XHJcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XHJcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcclxuICAgICAgXCJtb3VzZWRvd25cIixcclxuICAgICAgdGhpcy5faGFuZGxlT3V0c2lkZUNsaWNrQ2xvc2VcclxuICAgICk7XHJcbiAgfVxyXG5cclxuICBfaGFuZGxlRXNjQ2xvc2UgPSAoZXZ0KSA9PiB7XHJcbiAgICBpZiAoZXZ0LmtleSA9PT0gXCJFc2NhcGVcIikge1xyXG4gICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgX2hhbmRsZU91dHNpZGVDbGlja0Nsb3NlID0gKGV2dCkgPT4ge1xyXG4gICAgaWYgKGV2dC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwicG9wdXBfb3BlbmVkXCIpKSB7XHJcbiAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICBzZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHRoaXMuX3BvcHVwRWxlbWVudFxyXG4gICAgICAucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fY2xvc2UtYnV0dG9uXCIpXHJcbiAgICAgIC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgICAgfSk7XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhGb3JtIGV4dGVuZHMgUG9wdXAge1xuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yLCBzdWJtaXRGb3JtKSB7XG4gICAgc3VwZXIocG9wdXBTZWxlY3Rvcik7XG4gICAgdGhpcy5mb3JtRWxlbWVudCA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmZvcm1cIik7XG4gICAgdGhpcy5zdWJtaXRCdXR0b24gPSB0aGlzLmZvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZm9ybV9fc3VibWl0XCIpO1xuICAgIHRoaXMuX3N1Ym1pdEZvcm0gPSBzdWJtaXRGb3JtO1xuICB9XG5cbiAgX2dldElucHV0VmFsdWVzKCkge1xuICAgIGNvbnN0IGlucHV0RmllbGRzID0gQXJyYXkuZnJvbShcbiAgICAgIHRoaXMuZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5mb3JtX19maWVsZFwiKVxuICAgICk7XG4gICAgY29uc3QgZGF0YSA9IHt9O1xuICAgIGlucHV0RmllbGRzLmZvckVhY2goKGZpZWxkKSA9PiB7XG4gICAgICBkYXRhW2ZpZWxkLm5hbWVdID0gZmllbGQudmFsdWU7XG4gICAgfSk7XG4gICAgcmV0dXJuIGRhdGE7XG4gIH1cblxuICBjbG9zZSgpIHtcbiAgICBzdXBlci5jbG9zZSgpO1xuICAgIHRoaXMuZm9ybUVsZW1lbnQucmVzZXQoKTtcbiAgfVxuXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHRoaXMuZm9ybUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZXZ0KSA9PiB7XG4gICAgICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHRoaXMuX3N1Ym1pdEZvcm0odGhpcy5fZ2V0SW5wdXRWYWx1ZXMoKSk7XG4gICAgfSk7XG5cbiAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xuICB9XG59XG4iLCIvKmV4cG9ydCBjb25zdCBpbml0aWFsQ2FyZHMgPSBbXG4gIHtcbiAgICBuYW1lOiBcIllvc2VtaXRlIFZhbGxleVwiLFxuICAgIGxpbms6IFwiaHR0cHM6Ly9wcmFjdGljdW0tY29udGVudC5zMy51cy13ZXN0LTEuYW1hem9uYXdzLmNvbS9zb2Z0d2FyZS1lbmdpbmVlci9hcm91bmQtcHJvamVjdC95b3NlbWl0ZS5qcGdcIixcbiAgfSxcbiAge1xuICAgIG5hbWU6IFwiTGFrZSBMb3Vpc2VcIixcbiAgICBsaW5rOiBcImh0dHBzOi8vcHJhY3RpY3VtLWNvbnRlbnQuczMudXMtd2VzdC0xLmFtYXpvbmF3cy5jb20vc29mdHdhcmUtZW5naW5lZXIvYXJvdW5kLXByb2plY3QvbGFrZS1sb3Vpc2UuanBnXCIsXG4gIH0sXG4gIHtcbiAgICBuYW1lOiBcIkJhbGQgTW91bnRhaW5zXCIsXG4gICAgbGluazogXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL3NvZnR3YXJlLWVuZ2luZWVyL2Fyb3VuZC1wcm9qZWN0L2JhbGQtbW91bnRhaW5zLmpwZ1wiLFxuICB9LFxuICB7XG4gICAgbmFtZTogXCJMYXRlbWFyXCIsXG4gICAgbGluazogXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL3NvZnR3YXJlLWVuZ2luZWVyL2Fyb3VuZC1wcm9qZWN0L2xhdGVtYXIuanBnXCIsXG4gIH0sXG4gIHtcbiAgICBuYW1lOiBcIlZhbm9pc2UgTmF0aW9uYWwgUGFya1wiLFxuICAgIGxpbms6IFwiaHR0cHM6Ly9wcmFjdGljdW0tY29udGVudC5zMy51cy13ZXN0LTEuYW1hem9uYXdzLmNvbS9zb2Z0d2FyZS1lbmdpbmVlci9hcm91bmQtcHJvamVjdC92YW5vaXNlLmpwZ1wiLFxuICB9LFxuICB7XG4gICAgbmFtZTogXCJMYWdvIGRpIEJyYWllc1wiLFxuICAgIGxpbms6IFwiaHR0cHM6Ly9wcmFjdGljdW0tY29udGVudC5zMy51cy13ZXN0LTEuYW1hem9uYXdzLmNvbS9zb2Z0d2FyZS1lbmdpbmVlci9hcm91bmQtcHJvamVjdC9sYWdvLmpwZ1wiLFxuICB9LFxuXTsqL1xuXG5leHBvcnQgY29uc3QgZm9ybVNldHRpbmdzID0ge1xuICBmb3JtU2VsZWN0b3I6IFwiLmZvcm1cIixcbiAgaW5wdXRTZWxlY3RvcjogXCIuZm9ybV9fZmllbGRcIixcbiAgc3VibWl0QnV0dG9uU2VsZWN0b3I6IFwiLmZvcm1fX3N1Ym1pdFwiLFxuICBpbmFjdGl2ZUJ1dHRvbkNsYXNzOiBcImZvcm1fX3N1Ym1pdF9kaXNhYmxlZFwiLFxuICBpbnB1dEVycm9yQ2xhc3M6IFwiZm9ybV9fZmllbGRfdHlwZV9lcnJvclwiLFxuICBlcnJvckNsYXNzOiBcImZvcm1fX2lucHV0LWVycm9yX2FjdGl2ZVwiLFxufTtcblxuZXhwb3J0IGNvbnN0IGluaXRpYWxVc2VyRGF0YSA9IHtcbiAgbmFtZTogXCJKYWNxdWVzIENvdXN0ZWF1XCIsXG4gIGpvYjogXCJFeHBsb3JlclwiLFxufTtcblxuZXhwb3J0IGNvbnN0IGVkaXRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2VkaXQtYnV0dG9uXCIpO1xuZXhwb3J0IGNvbnN0IGFkZEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fYWRkLWJ1dHRvblwiKTtcbmV4cG9ydCBjb25zdCBhdmF0YXJCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxuICBcIi5wcm9maWxlX19waWN0dXJlLWVkaXQtYnV0dG9uXCJcbik7XG5leHBvcnQgY29uc3QgcHJvZmlsZUZvcm1OYW1lID0gZG9jdW1lbnQuZm9ybXNbXCJwcm9maWxlLWZvcm1cIl0uZWxlbWVudHNbXCJuYW1lXCJdO1xuZXhwb3J0IGNvbnN0IHByb2ZpbGVGb3JtSm9iID0gZG9jdW1lbnQuZm9ybXNbXCJwcm9maWxlLWZvcm1cIl0uZWxlbWVudHNbXCJqb2JcIl07XG4iLCJpbXBvcnQgQ2FyZCBmcm9tIFwiLi4vY29tcG9uZW50cy9DYXJkLmpzXCI7XG5pbXBvcnQgRm9ybVZhbGlkYXRvciBmcm9tIFwiLi4vY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzXCI7XG5pbXBvcnQgUG9wdXBXaXRoRm9ybSBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzXCI7XG5pbXBvcnQgUG9wdXBXaXRoSW1hZ2UgZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanNcIjtcbmltcG9ydCBQb3B1cERlbGV0ZUNvbmZpcm1hdGlvbiBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cERlbGV0ZUNvbmZpcm1hdGlvbi5qc1wiO1xuaW1wb3J0IFNlY3Rpb24gZnJvbSBcIi4uL2NvbXBvbmVudHMvU2VjdGlvbi5qc1wiO1xuaW1wb3J0IFVzZXJJbmZvIGZyb20gXCIuLi9jb21wb25lbnRzL1VzZXJJbmZvLmpzXCI7XG5pbXBvcnQgQXBpIGZyb20gXCIuLi9jb21wb25lbnRzL0FwaS5qc1wiO1xuaW1wb3J0IHtcbiAgLyppbml0aWFsQ2FyZHMsKi9cbiAgZm9ybVNldHRpbmdzLFxuICBlZGl0QnV0dG9uLFxuICBhZGRCdXR0b24sXG4gIGF2YXRhckJ1dHRvbixcbiAgcHJvZmlsZUZvcm1OYW1lLFxuICBwcm9maWxlRm9ybUpvYixcbn0gZnJvbSBcIi4uL3V0aWxzL2NvbnN0YW50cy5qc1wiO1xuaW1wb3J0IFwiLi9pbmRleC5jc3NcIjtcblxuLyogKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xuLyogQWRkIGZvcm0gdmFsaWRhdGlvbiB0byBmb3JtcyAqL1xuLyogKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xuY29uc3QgZm9ybVZhbGlkYXRvcnMgPSB7fTtcblxuY29uc3QgZW5hYmxlVmFsaWRhdGlvbiA9IChmb3JtU2V0dGluZ3MpID0+IHtcbiAgY29uc3QgZm9ybUxpc3QgPSBBcnJheS5mcm9tKFxuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoZm9ybVNldHRpbmdzLmZvcm1TZWxlY3RvcilcbiAgKTtcbiAgZm9ybUxpc3QuZm9yRWFjaCgoZm9ybUVsZW1lbnQpID0+IHtcbiAgICBjb25zdCB2YWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcihmb3JtU2V0dGluZ3MsIGZvcm1FbGVtZW50KTtcbiAgICBjb25zdCBmb3JtTmFtZSA9IGZvcm1FbGVtZW50LmdldEF0dHJpYnV0ZShcIm5hbWVcIik7XG4gICAgZm9ybVZhbGlkYXRvcnNbZm9ybU5hbWVdID0gdmFsaWRhdG9yO1xuICAgIHZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XG4gIH0pO1xufTtcblxuZW5hYmxlVmFsaWRhdGlvbihmb3JtU2V0dGluZ3MpO1xuXG4vKiAqKioqKioqKioqKioqKioqKioqKioqKioqICovXG4vKiBEZWNsYXJhdGlvbiBvZiBBcGkgb2JqZWN0ICovXG4vKiAqKioqKioqKioqKioqKioqKioqKioqKioqICovXG5jb25zdCBhcGkgPSBuZXcgQXBpKHtcbiAgYmFzZVVybDogXCJodHRwczovL2Fyb3VuZC1hcGkuZW4udHJpcGxldGVuLXNlcnZpY2VzLmNvbS92MVwiLFxuICBhdXRob3JpemF0aW9uOiBcImEwNTQ4YTIyLTNjZGYtNDhlYi05ODIyLTdlN2RhZjFiMDYwNFwiLFxufSk7XG5cbi8qICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xuLyogRGVjbGFyYXRpb24gb2YgVXNlckluZm8gb2JqZWN0ICovXG4vKiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cbmNvbnN0IHVzZXJJbmZvID0gbmV3IFVzZXJJbmZvKHtcbiAgbmFtZVNlbGVjdG9yOiBcIi5wcm9maWxlX19uYW1lXCIsXG4gIGpvYlNlbGVjdG9yOiBcIi5wcm9maWxlX19qb2JcIixcbiAgYXZhdGFyU2VsZWN0b3I6IFwiLnByb2ZpbGVfX3BpY3R1cmVcIixcbn0pO1xuXG4vKiAqKioqKioqKioqKioqKioqKioqKioqICovXG4vKiBEZWNsYXJhdGlvbnMgb2YgcG9wdXBzICovXG4vKiAqKioqKioqKioqKioqKioqKioqKioqICovXG5jb25zdCBhdmF0YXJGb3JtID0gbmV3IFBvcHVwV2l0aEZvcm0oXCJmb3JtW25hbWU9J2F2YXRhci1mb3JtJ11cIiwgKGRhdGEpID0+IHtcbiAgYXZhdGFyRm9ybS5zdWJtaXRCdXR0b24udGV4dENvbnRlbnQgPSBcIlNhdmluZy4uLlwiO1xuICBhcGlcbiAgICAuZWRpdFByb2ZpbGVQaWN0dXJlKGRhdGEubGluaylcbiAgICAudGhlbigocmVzKSA9PiAocmVzLm9rID8gdHJ1ZSA6IHJlcy5zdGF0dXMpKVxuICAgIC50aGVuKCgpID0+IHtcbiAgICAgIHVzZXJJbmZvLnNldEF2YXRhcihkYXRhLmxpbmspO1xuICAgIH0pXG4gICAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUuZXJyb3IoZXJyKSlcbiAgICAuZmluYWxseSgoKSA9PiB7XG4gICAgICBhdmF0YXJGb3JtLnN1Ym1pdEJ1dHRvbi50ZXh0Q29udGVudCA9IFwiU2F2ZVwiO1xuICAgICAgYXZhdGFyRm9ybS5jbG9zZSgpO1xuICAgIH0pO1xufSk7XG5hdmF0YXJGb3JtLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5cbmNvbnN0IGNhcmRGb3JtID0gbmV3IFBvcHVwV2l0aEZvcm0oXCJmb3JtW25hbWU9J2NhcmQtZm9ybSddXCIsIChkYXRhKSA9PiB7XG4gIGNhcmRGb3JtLnN1Ym1pdEJ1dHRvbi50ZXh0Q29udGVudCA9IFwiU2F2aW5nLi4uXCI7XG4gIGFwaVxuICAgIC5hZGROZXdDYXJkKHsgbmFtZTogZGF0YS5uYW1lLCBsaW5rOiBkYXRhLmxpbmsgfSlcbiAgICAudGhlbigocmVzKSA9PiAocmVzLm9rID8gdHJ1ZSA6IHJlcy5zdGF0dXMpKVxuICAgIC50aGVuKCgpID0+IHtcbiAgICAgIGNhcmRHYWxsZXJ5LmFkZEl0ZW0oZGF0YSk7XG4gICAgfSlcbiAgICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5lcnJvcihlcnIpKVxuICAgIC5maW5hbGx5KCgpID0+IHtcbiAgICAgIGNhcmRGb3JtLnN1Ym1pdEJ1dHRvbi50ZXh0Q29udGVudCA9IFwiQ3JlYXRlXCI7XG4gICAgICBjYXJkRm9ybS5jbG9zZSgpO1xuICAgIH0pO1xufSk7XG5jYXJkRm9ybS5zZXRFdmVudExpc3RlbmVycygpO1xuXG5jb25zdCBwcm9maWxlRm9ybSA9IG5ldyBQb3B1cFdpdGhGb3JtKFwiZm9ybVtuYW1lPSdwcm9maWxlLWZvcm0nXVwiLCAoZGF0YSkgPT4ge1xuICBwcm9maWxlRm9ybS5zdWJtaXRCdXR0b24udGV4dENvbnRlbnQgPSBcIlNhdmluZy4uLlwiO1xuICBhcGlcbiAgICAuZWRpdFVzZXJJbmZvKHsgbmFtZTogZGF0YS5uYW1lLCBqb2I6IGRhdGEuam9iIH0pXG4gICAgLnRoZW4oKHJlcykgPT4gKHJlcy5vayA/IHRydWUgOiByZXMuc3RhdHVzKSlcbiAgICAudGhlbigoKSA9PiB7XG4gICAgICB1c2VySW5mby5zZXRVc2VySW5mbyh7IG5hbWU6IGRhdGEubmFtZSwgYWJvdXQ6IGRhdGEuam9iIH0pO1xuICAgIH0pXG4gICAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUuZXJyb3IoZXJyKSlcbiAgICAuZmluYWxseSgoKSA9PiB7XG4gICAgICBwcm9maWxlRm9ybS5zdWJtaXRCdXR0b24udGV4dENvbnRlbnQgPSBcIlNhdmVcIjtcbiAgICAgIHByb2ZpbGVGb3JtLmNsb3NlKCk7XG4gICAgfSk7XG59KTtcbnByb2ZpbGVGb3JtLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5cbmNvbnN0IGNvbmZpcm1EZWxldGVQb3B1cCA9IG5ldyBQb3B1cERlbGV0ZUNvbmZpcm1hdGlvbihcbiAgXCJmb3JtW25hbWU9J2RlbGV0ZS1mb3JtJ11cIlxuKTtcbmNvbmZpcm1EZWxldGVQb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xuXG5jb25zdCBwaWN0dXJlUG9wdXAgPSBuZXcgUG9wdXBXaXRoSW1hZ2UoXCIucG9wdXBfX3BpY3R1cmVcIik7XG5waWN0dXJlUG9wdXAuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxuLyogKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cbi8qIERlY2xhcmF0aW9uIG9mIGNhcmQgZ2FsbGVyeSBzZWN0aW9uICovXG4vKiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xuY29uc3QgY2FyZEdhbGxlcnkgPSBuZXcgU2VjdGlvbigoZGF0YSkgPT4ge1xuICBjb25zdCBjYXJkID0gbmV3IENhcmQoXG4gICAgZGF0YSxcbiAgICBcIi5jYXJkLXRlbXBsYXRlXCIsXG4gICAgKGRhdGEpID0+IHtcbiAgICAgIHBpY3R1cmVQb3B1cC5vcGVuKGRhdGEpO1xuICAgIH0sXG4gICAgKCkgPT4ge1xuICAgICAgY29uZmlybURlbGV0ZVBvcHVwLnNldFN1Ym1pdEFjdGlvbigoKSA9PiB7XG4gICAgICAgIGFwaS5kZWxldGVDYXJkKGRhdGEuX2lkKTtcbiAgICAgICAgY2FyZC5kZWxldGVDYXJkKCk7XG4gICAgICAgIGNvbmZpcm1EZWxldGVQb3B1cC5jbG9zZSgpO1xuICAgICAgfSk7XG4gICAgICBjb25maXJtRGVsZXRlUG9wdXAub3BlbigpO1xuICAgIH0sXG4gICAgKCkgPT4ge1xuICAgICAgY29uc3QgY2FyZExpa2VJY29uID0gY2FyZC5jYXJkLnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fbGlrZVwiKTtcbiAgICAgIGlmIChjYXJkLmxpa2VkKSB7XG4gICAgICAgIGFwaVxuICAgICAgICAgIC5yZW1vdmVMaWtlKGRhdGEuX2lkKVxuICAgICAgICAgIC50aGVuKChyZXMpID0+IChyZXMub2sgPyB0cnVlIDogcmVzLnN0YXR1cykpXG4gICAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgY2FyZExpa2VJY29uLmNsYXNzTGlzdC5yZW1vdmUoXCJjYXJkX19saWtlX2FjdGl2ZVwiKTtcbiAgICAgICAgICAgIGNhcmQubGlrZWQgPSBmYWxzZTtcbiAgICAgICAgICB9KVxuICAgICAgICAgIC5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmVycm9yKGVycikpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYXBpXG4gICAgICAgICAgLmFkZExpa2UoZGF0YS5faWQpXG4gICAgICAgICAgLnRoZW4oKHJlcykgPT4gKHJlcy5vayA/IHRydWUgOiByZXMuc3RhdHVzKSlcbiAgICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgICBjYXJkTGlrZUljb24uY2xhc3NMaXN0LmFkZChcImNhcmRfX2xpa2VfYWN0aXZlXCIpO1xuICAgICAgICAgICAgY2FyZC5saWtlZCA9IHRydWU7XG4gICAgICAgICAgfSlcbiAgICAgICAgICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5lcnJvcihlcnIpKTtcbiAgICAgIH1cbiAgICB9XG4gICk7XG4gIGNvbnN0IGNhcmRFbGVtZW50ID0gY2FyZC5nZW5lcmF0ZUNhcmQoKTtcbiAgY2FyZEdhbGxlcnkuY29udGFpbmVyLnByZXBlbmQoY2FyZEVsZW1lbnQpO1xufSwgXCIuZ2FsbGVyeV9fY2FyZHNcIik7XG5cbi8qICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xuLyogRXZlbnQgbGlzdGVuZXJzIGZvciBvcGVuaW5nIGZvcm1zICovXG4vKiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cbmVkaXRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcbiAgY29uc3QgZGF0YSA9IHVzZXJJbmZvLmdldFVzZXJJbmZvKCk7XG4gIHByb2ZpbGVGb3JtTmFtZS52YWx1ZSA9IGRhdGEubmFtZTtcbiAgcHJvZmlsZUZvcm1Kb2IudmFsdWUgPSBkYXRhLmpvYjtcblxuICBmb3JtVmFsaWRhdG9yc1tcInByb2ZpbGUtZm9ybVwiXS5yZXNldFZhbGlkYXRpb24oKTtcbiAgcHJvZmlsZUZvcm0ub3BlbigpO1xufSk7XG5cbmFkZEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xuICBmb3JtVmFsaWRhdG9yc1tcImNhcmQtZm9ybVwiXS5yZXNldFZhbGlkYXRpb24oKTtcbiAgY2FyZEZvcm0ub3BlbigpO1xufSk7XG5cbmF2YXRhckJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xuICBmb3JtVmFsaWRhdG9yc1tcImF2YXRhci1mb3JtXCJdLnJlc2V0VmFsaWRhdGlvbigpO1xuICBhdmF0YXJGb3JtLm9wZW4oKTtcbn0pO1xuXG4vKiAqKioqKioqKioqKioqKioqKioqKioqKioqICovXG4vKiBQcm9taXNlcyBmb3IgaW5pdGlhbCBkYXRhICovXG4vKiAqKioqKioqKioqKioqKioqKioqKioqKioqICovXG5jb25zdCBpbml0aWFsQ2FyZHMgPSBhcGlcbiAgLmdldENhcmRJbmZvKClcbiAgLnRoZW4oKHJlcykgPT4gKHJlcy5vayA/IHJlcy5qc29uKCkgOiByZXMuc3RhdHVzKSlcbiAgLnRoZW4oKHJlcykgPT4ge1xuICAgIGNhcmRHYWxsZXJ5LnNldEl0ZW1zKHJlcyk7XG4gICAgY2FyZEdhbGxlcnkucmVuZGVySXRlbXMoKTtcbiAgfSlcbiAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUuZXJyb3IoZXJyKSk7XG5cbmNvbnN0IGluaXRpYWxQcm9maWxlID0gYXBpXG4gIC5nZXRVc2VySW5mbygpXG4gIC50aGVuKChyZXMpID0+IChyZXMub2sgPyByZXMuanNvbigpIDogcmVzLnN0YXR1cykpXG4gIC50aGVuKChyZXMpID0+IHtcbiAgICB1c2VySW5mby5zZXRVc2VySW5mbyh7IG5hbWU6IHJlcy5uYW1lLCBhYm91dDogcmVzLmFib3V0IH0pO1xuICAgIHVzZXJJbmZvLnNldEF2YXRhcihyZXMuYXZhdGFyKTtcbiAgfSlcbiAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUuZXJyb3IoZXJyKSk7XG5cblByb21pc2UuYWxsKFtpbml0aWFsQ2FyZHMsIGluaXRpYWxQcm9maWxlXSlcbiAgLnRoZW4oKHJlcykgPT4gKHJlcy5vayA/IHJlcy5qc29uKCkgOiByZXMuc3RhdHVzKSlcbiAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUuZXJyb3IoZXJyKSk7XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBBcGkge1xuICBjb25zdHJ1Y3Rvcih7IGJhc2VVcmwsIGF1dGhvcml6YXRpb24gfSkge1xuICAgIHRoaXMuX2Jhc2VVcmwgPSBiYXNlVXJsO1xuICAgIHRoaXMuX2F1dGhvcml6YXRpb24gPSBhdXRob3JpemF0aW9uO1xuICB9XG5cbiAgZ2V0VXNlckluZm8oKSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L3VzZXJzL21lYCwge1xuICAgICAgaGVhZGVyczoge1xuICAgICAgICBhdXRob3JpemF0aW9uOiB0aGlzLl9hdXRob3JpemF0aW9uLFxuICAgICAgfSxcbiAgICB9KTtcbiAgfVxuXG4gIGdldENhcmRJbmZvKCkge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkc2AsIHtcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgYXV0aG9yaXphdGlvbjogdGhpcy5fYXV0aG9yaXphdGlvbixcbiAgICAgIH0sXG4gICAgfSk7XG4gIH1cblxuICBlZGl0VXNlckluZm8oeyBuYW1lLCBqb2IgfSkge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS91c2Vycy9tZWAsIHtcbiAgICAgIG1ldGhvZDogXCJQQVRDSFwiLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICBhdXRob3JpemF0aW9uOiB0aGlzLl9hdXRob3JpemF0aW9uLFxuICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICAgIH0sXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIG5hbWU6IG5hbWUsXG4gICAgICAgIGFib3V0OiBqb2IsXG4gICAgICB9KSxcbiAgICB9KTtcbiAgfVxuXG4gIGVkaXRQcm9maWxlUGljdHVyZShsaW5rKSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L3VzZXJzL21lL2F2YXRhcmAsIHtcbiAgICAgIG1ldGhvZDogXCJQQVRDSFwiLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICBhdXRob3JpemF0aW9uOiB0aGlzLl9hdXRob3JpemF0aW9uLFxuICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICAgIH0sXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIGF2YXRhcjogbGluayxcbiAgICAgIH0pLFxuICAgIH0pO1xuICB9XG5cbiAgYWRkTmV3Q2FyZCh7IG5hbWUsIGxpbmsgfSkge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkc2AsIHtcbiAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIGF1dGhvcml6YXRpb246IHRoaXMuX2F1dGhvcml6YXRpb24sXG4gICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgICAgfSxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgbmFtZTogbmFtZSxcbiAgICAgICAgbGluazogbGluayxcbiAgICAgIH0pLFxuICAgIH0pO1xuICB9XG5cbiAgZGVsZXRlQ2FyZChpZCkge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkcy8ke2lkfWAsIHtcbiAgICAgIG1ldGhvZDogXCJERUxFVEVcIixcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgYXV0aG9yaXphdGlvbjogdGhpcy5fYXV0aG9yaXphdGlvbixcbiAgICAgIH0sXG4gICAgfSk7XG4gIH1cblxuICBhZGRMaWtlKGlkKSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzLyR7aWR9L2xpa2VzYCwge1xuICAgICAgbWV0aG9kOiBcIlBVVFwiLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICBhdXRob3JpemF0aW9uOiB0aGlzLl9hdXRob3JpemF0aW9uLFxuICAgICAgfSxcbiAgICB9KTtcbiAgfVxuXG4gIHJlbW92ZUxpa2UoaWQpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHMvJHtpZH0vbGlrZXNgLCB7XG4gICAgICBtZXRob2Q6IFwiREVMRVRFXCIsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIGF1dGhvcml6YXRpb246IHRoaXMuX2F1dGhvcml6YXRpb24sXG4gICAgICB9LFxuICAgIH0pO1xuICB9XG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBVc2VySW5mbyB7XG4gIGNvbnN0cnVjdG9yKHsgbmFtZVNlbGVjdG9yLCBqb2JTZWxlY3RvciwgYXZhdGFyU2VsZWN0b3IgfSkge1xuICAgIHRoaXMuX25hbWVFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihuYW1lU2VsZWN0b3IpO1xuICAgIHRoaXMuX2pvYkVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGpvYlNlbGVjdG9yKTtcbiAgICB0aGlzLl9hdmF0YXJTZWxlY3RvciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYXZhdGFyU2VsZWN0b3IpO1xuICB9XG5cbiAgZ2V0VXNlckluZm8oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIG5hbWU6IHRoaXMuX25hbWVFbGVtZW50LnRleHRDb250ZW50LFxuICAgICAgam9iOiB0aGlzLl9qb2JFbGVtZW50LnRleHRDb250ZW50LFxuICAgIH07XG4gIH1cblxuICBzZXRVc2VySW5mbyh7IG5hbWUsIGFib3V0IH0pIHtcbiAgICB0aGlzLl9uYW1lRWxlbWVudC50ZXh0Q29udGVudCA9IG5hbWU7XG4gICAgdGhpcy5fam9iRWxlbWVudC50ZXh0Q29udGVudCA9IGFib3V0O1xuICB9XG5cbiAgc2V0QXZhdGFyKGxpbmspIHtcbiAgICB0aGlzLl9hdmF0YXJTZWxlY3Rvci5zcmMgPSBsaW5rO1xuICB9XG59XG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBEZWxldGVDb25maXJtYXRpb24gZXh0ZW5kcyBQb3B1cCB7XG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcbiAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcbiAgICB0aGlzLmZvcm1FbGVtZW50ID0gdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZm9ybVwiKTtcbiAgfVxuXG4gIHNldFN1Ym1pdEFjdGlvbihhY3Rpb24pIHtcbiAgICB0aGlzLl9oYW5kbGVTdWJtaXRDYWxsYmFjayA9IGFjdGlvbjtcbiAgfVxuXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHRoaXMuZm9ybUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZXZ0KSA9PiB7XG4gICAgICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHRoaXMuX2hhbmRsZVN1Ym1pdENhbGxiYWNrKCk7XG4gICAgfSk7XG5cbiAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xuICB9XG59XG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoSW1hZ2UgZXh0ZW5kcyBQb3B1cCB7XG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcbiAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcbiAgICB0aGlzLl9wb3B1cEltYWdlID0gdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCJpbWdcIik7XG4gICAgdGhpcy5fcG9wdXBDYXB0aW9uID0gdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCJmaWdjYXB0aW9uXCIpO1xuICB9XG5cbiAgb3Blbih7IG5hbWUsIGxpbmsgfSkge1xuICAgIHRoaXMuX3BvcHVwSW1hZ2UuYWx0ID0gbmFtZTtcbiAgICB0aGlzLl9wb3B1cEltYWdlLnNyYyA9IGxpbms7XG4gICAgdGhpcy5fcG9wdXBDYXB0aW9uLnRleHRDb250ZW50ID0gbmFtZTtcbiAgICBzdXBlci5vcGVuKCk7XG4gIH1cbn1cbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFNlY3Rpb24ge1xuICBjb25zdHJ1Y3RvcihyZW5kZXJlciwgY2xhc3NTZWxlY3Rvcikge1xuICAgIHRoaXMuX3JlbmRlcmVyID0gcmVuZGVyZXI7XG4gICAgdGhpcy5jb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGNsYXNzU2VsZWN0b3IpO1xuICB9XG5cbiAgcmVuZGVySXRlbXMoKSB7XG4gICAgdGhpcy5faXRlbXMuZm9yRWFjaCgoaXRlbSkgPT4ge1xuICAgICAgdGhpcy5fcmVuZGVyZXIoaXRlbSk7XG4gICAgfSk7XG4gIH1cblxuICBhZGRJdGVtKGl0ZW0pIHtcbiAgICB0aGlzLl9yZW5kZXJlcihpdGVtKTtcbiAgfVxuXG4gIHNldEl0ZW1zKGl0ZW1zKSB7XG4gICAgdGhpcy5faXRlbXMgPSBpdGVtcztcbiAgfVxufVxuIl0sIm5hbWVzIjpbIkNhcmQiLCJjb25zdHJ1Y3RvciIsImRhdGEiLCJjYXJkU2VsZWN0b3IiLCJoYW5kbGVJbWFnZUNsaWNrIiwiaGFuZGxlRGVsZXRlQ2xpY2siLCJoYW5kbGVMaWtlQ2xpY2siLCJ0aGlzIiwiX25hbWUiLCJuYW1lIiwiX2xpbmsiLCJsaW5rIiwibGlrZWQiLCJpc0xpa2VkIiwiX2lkIiwiX2NhcmRTZWxlY3RvciIsIl9oYW5kbGVJbWFnZUNsaWNrIiwiX2hhbmRsZURlbGV0ZUNsaWNrIiwiX2hhbmRsZUxpa2VDbGljayIsIl9nZXRUZW1wbGF0ZSIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImNvbnRlbnQiLCJjbG9uZU5vZGUiLCJfc2V0RXZlbnRMaXN0ZW5lcnMiLCJjYXJkIiwiYWRkRXZlbnRMaXN0ZW5lciIsIl9jYXJkSW1hZ2VFbGVtZW50IiwiZGVsZXRlQ2FyZCIsInJlbW92ZSIsImdlbmVyYXRlQ2FyZCIsInNyYyIsImFsdCIsInRleHRDb250ZW50IiwiY2xhc3NMaXN0IiwiYWRkIiwiRm9ybVZhbGlkYXRvciIsInNldHRpbmdzIiwiZm9ybUVsZW1lbnQiLCJfZm9ybVNlbGVjdG9yIiwiZm9ybVNlbGVjdG9yIiwiX2lucHV0U2VsZWN0b3IiLCJpbnB1dFNlbGVjdG9yIiwiX3N1Ym1pdEJ1dHRvblNlbGVjdG9yIiwic3VibWl0QnV0dG9uU2VsZWN0b3IiLCJfaW5hY3RpdmVCdXR0b25DbGFzcyIsImluYWN0aXZlQnV0dG9uQ2xhc3MiLCJfaW5wdXRFcnJvckNsYXNzIiwiaW5wdXRFcnJvckNsYXNzIiwiX2Vycm9yQ2xhc3MiLCJlcnJvckNsYXNzIiwiX2Zvcm1FbGVtZW50IiwiX2lucHV0TGlzdCIsIkFycmF5IiwiZnJvbSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJfYnV0dG9uRWxlbWVudCIsIl9zaG93SW5wdXRFcnJvciIsImlucHV0RWxlbWVudCIsImVycm9yTWVzc2FnZSIsImVycm9yRWxlbWVudCIsIl9oaWRlSW5wdXRFcnJvciIsIl9jaGVja0lucHV0VmFsaWRpdHkiLCJ2YWxpZGl0eSIsInZhbGlkIiwidmFsaWRhdGlvbk1lc3NhZ2UiLCJfaGFzSW52YWxpZElucHV0Iiwic29tZSIsIl90b2dnbGVCdXR0b25TdGF0ZSIsImRpc2FibGVCdXR0b24iLCJkaXNhYmxlZCIsImZvckVhY2giLCJlbmFibGVWYWxpZGF0aW9uIiwicmVzZXRWYWxpZGF0aW9uIiwiUG9wdXAiLCJwb3B1cFNlbGVjdG9yIiwiX3BvcHVwU2VsZWN0b3IiLCJfcG9wdXBFbGVtZW50IiwiY2xvc2VzdCIsIm9wZW4iLCJfaGFuZGxlRXNjQ2xvc2UiLCJfaGFuZGxlT3V0c2lkZUNsaWNrQ2xvc2UiLCJjbG9zZSIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJldnQiLCJrZXkiLCJ0YXJnZXQiLCJjb250YWlucyIsInNldEV2ZW50TGlzdGVuZXJzIiwiUG9wdXBXaXRoRm9ybSIsInN1Ym1pdEZvcm0iLCJzdXBlciIsInN1Ym1pdEJ1dHRvbiIsIl9zdWJtaXRGb3JtIiwiX2dldElucHV0VmFsdWVzIiwiaW5wdXRGaWVsZHMiLCJmaWVsZCIsInZhbHVlIiwicmVzZXQiLCJwcmV2ZW50RGVmYXVsdCIsImVkaXRCdXR0b24iLCJhZGRCdXR0b24iLCJhdmF0YXJCdXR0b24iLCJwcm9maWxlRm9ybU5hbWUiLCJmb3JtcyIsImVsZW1lbnRzIiwicHJvZmlsZUZvcm1Kb2IiLCJmb3JtVmFsaWRhdG9ycyIsImZvcm1TZXR0aW5ncyIsInZhbGlkYXRvciIsImZvcm1OYW1lIiwiZ2V0QXR0cmlidXRlIiwiYXBpIiwiX3JlZiIsImJhc2VVcmwiLCJhdXRob3JpemF0aW9uIiwiX2Jhc2VVcmwiLCJfYXV0aG9yaXphdGlvbiIsImdldFVzZXJJbmZvIiwiZmV0Y2giLCJoZWFkZXJzIiwiZ2V0Q2FyZEluZm8iLCJlZGl0VXNlckluZm8iLCJfcmVmMiIsImpvYiIsIm1ldGhvZCIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwiYWJvdXQiLCJlZGl0UHJvZmlsZVBpY3R1cmUiLCJhdmF0YXIiLCJhZGROZXdDYXJkIiwiX3JlZjMiLCJpZCIsImFkZExpa2UiLCJyZW1vdmVMaWtlIiwidXNlckluZm8iLCJuYW1lU2VsZWN0b3IiLCJqb2JTZWxlY3RvciIsImF2YXRhclNlbGVjdG9yIiwiX25hbWVFbGVtZW50IiwiX2pvYkVsZW1lbnQiLCJfYXZhdGFyU2VsZWN0b3IiLCJzZXRVc2VySW5mbyIsInNldEF2YXRhciIsImF2YXRhckZvcm0iLCJ0aGVuIiwicmVzIiwib2siLCJzdGF0dXMiLCJjYXRjaCIsImVyciIsImNvbnNvbGUiLCJlcnJvciIsImZpbmFsbHkiLCJjYXJkRm9ybSIsImNhcmRHYWxsZXJ5IiwiYWRkSXRlbSIsInByb2ZpbGVGb3JtIiwiY29uZmlybURlbGV0ZVBvcHVwIiwic2V0U3VibWl0QWN0aW9uIiwiYWN0aW9uIiwiX2hhbmRsZVN1Ym1pdENhbGxiYWNrIiwicGljdHVyZVBvcHVwIiwiX3BvcHVwSW1hZ2UiLCJfcG9wdXBDYXB0aW9uIiwicmVuZGVyZXIiLCJjbGFzc1NlbGVjdG9yIiwiX3JlbmRlcmVyIiwiY29udGFpbmVyIiwicmVuZGVySXRlbXMiLCJfaXRlbXMiLCJpdGVtIiwic2V0SXRlbXMiLCJpdGVtcyIsImNhcmRMaWtlSWNvbiIsImNhcmRFbGVtZW50IiwicHJlcGVuZCIsImluaXRpYWxDYXJkcyIsImpzb24iLCJpbml0aWFsUHJvZmlsZSIsIlByb21pc2UiLCJhbGwiXSwic291cmNlUm9vdCI6IiJ9